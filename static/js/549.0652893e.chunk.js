"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[549],{4549:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});var a=r(9439),n=r(2791),o=r(6907),i=r(3967),s=r(4554),c=r(9164),l=r(6314),u=r(7047),d=r(890),h=r(1889),p=r(3575),f=r(7621),v=r(9504),m=r(220),Z=r(4721),g=r(2363),x=r(6151),b=r(184);function j(){var e=(0,p.a)(),t=e.user,r=e.updateUserProfileFetch,o=(0,n.useState)(),i=(0,a.Z)(o,2),c=i[0],l=i[1],u=(0,n.useState)(null),h=(0,a.Z)(u,2),j=h[0],y=h[1],S=(0,n.useState)(!1),w=(0,a.Z)(S,2),C=w[0],P=w[1];(0,n.useEffect)((function(){l(t.pic)}),[t]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(f.Z,{children:[(0,b.jsx)(v.Z,{children:(0,b.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[(0,b.jsx)(m.Z,{src:c,sx:{height:80,mb:2,width:80}}),(0,b.jsx)(d.Z,{gutterBottom:!0,variant:"h5",children:t.name}),(0,b.jsx)(d.Z,{color:"text.secondary",variant:"body2",children:t.email}),(0,b.jsx)(d.Z,{color:"text.secondary",variant:"body2",children:t.phno})]})}),(0,b.jsx)(Z.Z,{}),(0,b.jsxs)(g.Z,{children:[!j&&(0,b.jsxs)(x.Z,{fullWidth:!0,variant:"text",component:"label",disabled:C,children:[C?"Saving...":"Update Picture",(0,b.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){var t=e.target.files[0],r=new FileReader;r.onloadend=function(){l(r.result),y(t)},t&&r.readAsDataURL(t)}})]}),j&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{fullWidth:!0,variant:"text",onClick:function(){if(j){P(!0);var e=new FileReader;e.onloadend=function(){setTimeout((function(){P(!1),l(e.result),y(null),r(e.result)}),1e3)},e.readAsDataURL(j)}},disabled:C,children:"Save"}),(0,b.jsx)(x.Z,{fullWidth:!0,variant:"text",onClick:function(){l(t.pic),y(null)},disabled:C,children:"Cancel"})]})]})]})})}var y=r(4165),S=r(4942),w=r(1413),C=r(5861),P=r(9585),R=r(8550),M=r(8096),N=r(8029),D=function(){var e=(0,p.a)(),t=e.getUserData_,r=e.updateUserDataFetch,o=(0,n.useState)({}),i=(0,a.Z)(o,2),c=i[0],l=i[1],u=(0,n.useState)({}),m=(0,a.Z)(u,2),j=m[0],D=m[1],A=(0,n.useState)("text"),F=(0,a.Z)(A,2),W=F[0],k=F[1];(0,n.useEffect)((function(){function e(){return(e=(0,C.Z)((0,y.Z)().mark((function e(){var r,a;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return r=e.sent,l(r),e.next=6,B(r.dob);case 6:a=e.sent,l((function(e){return(0,w.Z)((0,w.Z)({},e),{},(0,S.Z)({},"dob",a))}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var B=function(e){var t=e.split("-"),r=(0,a.Z)(t,3),n=r[0],o=r[1],i=r[2];return"".concat(i,"-").concat(o,"-").concat(n)},T=function(e){var t=e.target,r=t.name,a=t.value;if(l((function(e){return(0,w.Z)((0,w.Z)({},e),{},(0,S.Z)({},r,a))})),"dob"===r){var n=q(a);l((function(e){return(0,w.Z)((0,w.Z)({},e),{},{age:n})}))}},q=function(e){var t=new Date,r=new Date(e),a=t.getFullYear()-r.getFullYear(),n=t.getMonth()-r.getMonth();return(n<0||0===n&&t.getDate()<r.getDate())&&a--,a.toString()};return(0,b.jsx)("form",{autoComplete:"off",noValidate:!0,onSubmit:function(e){e.preventDefault();var t={};""===c.name&&(t.name="Name is required"),""===c.phoneNumber&&(t.phoneNumber="Phone number is required"),""===c.dob&&(t.dob="Date of Birth is required"),""===c.place&&(t.place="Date of Birth is required"),""===c.education&&(t.education="Education is required"),""===c.address&&(t.address="Address is required"),D(t),0===Object.keys(t).length&&(r(c),D({}))},children:(0,b.jsxs)(f.Z,{children:[(0,b.jsx)(P.Z,{defaultExpanded:!0,subheader:"The information can be edited",title:"Profile"}),(0,b.jsx)("br",{}),(0,b.jsx)(v.Z,{sx:{pt:0},children:(0,b.jsx)(s.Z,{children:(0,b.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,b.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,b.jsx)(d.Z,{children:"Name"}),(0,b.jsx)(R.Z,{fullWidth:!0,name:"name",onChange:T,required:!0,value:c.name,autoFocus:!0})]}),(0,b.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,b.jsx)(d.Z,{children:"Email "}),(0,b.jsx)(R.Z,{fullWidth:!0,name:"email",disabled:!0,value:c.email,autoFocus:!0})]}),(0,b.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,b.jsx)(d.Z,{children:"Phone Number"}),(0,b.jsxs)(M.Z,{fullWidth:!0,error:!!j.phone,children:[(0,b.jsx)(N.Z,{id:"outlined-adornment-phoneNo",type:"text",name:"phone",value:c.phoneNumber,onChange:T,disabled:!0,autoFocus:!0}),j.phoneNumber&&(0,b.jsx)(d.Z,{variant:"body2",sx:{color:"#f80202"},children:j.phoneNumber})]})]}),(0,b.jsxs)(h.ZP,{item:!0,xs:12,md:6,children:[(0,b.jsx)(d.Z,{children:"Date of Birth"}),"text"===W?(0,b.jsx)(R.Z,{fullWidth:!0,name:"dob",onClick:function(){k("date")},required:!0,value:c.dob,autoFocus:!0}):(0,b.jsx)(R.Z,{fullWidth:!0,name:"dob",type:"date",onChange:T,required:!0,value:c.dob,autoFocus:!0}),j.dob&&(0,b.jsx)(d.Z,{variant:"body2",sx:{color:"#f80202"},children:j.dob})]}),(0,b.jsxs)(h.ZP,{item:!0,xs:12,md:6,children:[(0,b.jsx)(d.Z,{children:"Age"}),(0,b.jsx)(R.Z,{fullWidth:!0,name:"age",onChange:T,value:c.age,autoFocus:!0})]}),(0,b.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,b.jsx)(d.Z,{children:"Education"}),(0,b.jsx)(R.Z,{fullWidth:!0,name:"education",onChange:T,required:!0,value:c.education,autoFocus:!0})]}),(0,b.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,b.jsx)(d.Z,{children:"Place"}),(0,b.jsx)(R.Z,{fullWidth:!0,name:"place",onChange:T,required:!0,value:c.place,autoFocus:!0})]}),(0,b.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,b.jsx)(d.Z,{children:"Address"}),(0,b.jsx)(R.Z,{fullWidth:!0,name:"contactDetails",onChange:T,required:!0,value:c.contactDetails,autoFocus:!0})]})]})})}),(0,b.jsx)(Z.Z,{}),(0,b.jsx)(g.Z,{sx:{justifyContent:"flex-end"},children:(0,b.jsx)(x.Z,{variant:"contained",disabled:!["name","phone","dob","age","education","address","place","contactDetails"].every((function(e){return""!==c[e]})),type:"submit",children:"Save Details"})})]})})};function A(){(0,i.Z)(),(0,p.a)().user;var e=n.useState(!0),t=(0,a.Z)(e,2),r=t[0],f=t[1];return(0,n.useEffect)((function(){var e=setTimeout((function(){f(!1)}),2e3);return function(){return clearTimeout(e)}}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.ql,{children:(0,b.jsx)("title",{children:"Account | MI LIBRO"})}),(0,b.jsx)(s.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,b.jsx)(c.Z,{maxWidth:"lg",children:(0,b.jsxs)(l.Z,{spacing:3,children:[(0,b.jsx)("div",{children:r?(0,b.jsx)(u.Z,{variant:"text",width:200,height:40}):(0,b.jsx)(d.Z,{variant:"h4",children:"Account"})}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{children:(0,b.jsxs)(h.ZP,{container:!0,spacing:5,children:[(0,b.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:4,children:r?(0,b.jsx)(u.Z,{variant:"rectangular",height:400}):(0,b.jsx)(j,{})}),(0,b.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:8,children:r?(0,b.jsx)(u.Z,{variant:"rectangular",height:400}):(0,b.jsx)(D,{})})]})})]})})})]})}},220:function(e,t,r){r.d(t,{Z:function(){return x}});var a=r(9439),n=r(3366),o=r(7462),i=r(2791),s=r(8182),c=r(4419),l=r(6934),u=r(1402),d=r(9201),h=r(184),p=(0,d.Z)((0,h.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),f=r(2800),v=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],m=(0,l.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,r=e.ownerState;return(0,o.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===r.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===r.variant&&{borderRadius:0},r.colorDefault&&(0,o.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),Z=(0,l.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),g=(0,l.ZP)(p,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var x=i.forwardRef((function(e,t){var r=(0,u.Z)({props:e,name:"MuiAvatar"}),l=r.alt,d=r.children,p=r.className,x=r.component,b=void 0===x?"div":x,j=r.imgProps,y=r.sizes,S=r.src,w=r.srcSet,C=r.variant,P=void 0===C?"circular":C,R=(0,n.Z)(r,v),M=null,N=function(e){var t=e.crossOrigin,r=e.referrerPolicy,n=e.src,o=e.srcSet,s=i.useState(!1),c=(0,a.Z)(s,2),l=c[0],u=c[1];return i.useEffect((function(){if(n||o){u(!1);var e=!0,a=new Image;return a.onload=function(){e&&u("loaded")},a.onerror=function(){e&&u("error")},a.crossOrigin=t,a.referrerPolicy=r,a.src=n,o&&(a.srcset=o),function(){e=!1}}}),[t,r,n,o]),l}((0,o.Z)({},j,{src:S,srcSet:w})),D=S||w,A=D&&"error"!==N,F=(0,o.Z)({},r,{colorDefault:!A,component:b,variant:P}),W=function(e){var t=e.classes,r={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,c.Z)(r,f.$,t)}(F);return M=A?(0,h.jsx)(Z,(0,o.Z)({alt:l,src:S,srcSet:w,sizes:y,ownerState:F,className:W.img},j)):null!=d?d:D&&l?l[0]:(0,h.jsx)(g,{ownerState:F,className:W.fallback}),(0,h.jsx)(m,(0,o.Z)({as:b,ownerState:F,className:(0,s.Z)(W.root,p),ref:t},R,{children:M}))}))},2800:function(e,t,r){r.d(t,{$:function(){return o}});var a=r(5878),n=r(1217);function o(e){return(0,n.Z)("MuiAvatar",e)}var i=(0,a.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);t.Z=i},2363:function(e,t,r){r.d(t,{Z:function(){return m}});var a=r(3366),n=r(7462),o=r(2791),i=r(8182),s=r(4419),c=r(6934),l=r(1402),u=r(5878),d=r(1217);function h(e){return(0,d.Z)("MuiCardActions",e)}(0,u.Z)("MuiCardActions",["root","spacing"]);var p=r(184),f=["disableSpacing","className"],v=(0,c.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,!r.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,n.Z)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),m=o.forwardRef((function(e,t){var r=(0,l.Z)({props:e,name:"MuiCardActions"}),o=r.disableSpacing,c=void 0!==o&&o,u=r.className,d=(0,a.Z)(r,f),m=(0,n.Z)({},r,{disableSpacing:c}),Z=function(e){var t=e.classes,r={root:["root",!e.disableSpacing&&"spacing"]};return(0,s.Z)(r,h,t)}(m);return(0,p.jsx)(v,(0,n.Z)({className:(0,i.Z)(Z.root,u),ownerState:m,ref:t},d))}))},9504:function(e,t,r){r.d(t,{Z:function(){return m}});var a=r(7462),n=r(3366),o=r(2791),i=r(8182),s=r(4419),c=r(6934),l=r(1402),u=r(5878),d=r(1217);function h(e){return(0,d.Z)("MuiCardContent",e)}(0,u.Z)("MuiCardContent",["root"]);var p=r(184),f=["className","component"],v=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),m=o.forwardRef((function(e,t){var r=(0,l.Z)({props:e,name:"MuiCardContent"}),o=r.className,c=r.component,u=void 0===c?"div":c,d=(0,n.Z)(r,f),m=(0,a.Z)({},r,{component:u}),Z=function(e){var t=e.classes;return(0,s.Z)({root:["root"]},h,t)}(m);return(0,p.jsx)(v,(0,a.Z)({as:u,className:(0,i.Z)(Z.root,o),ownerState:m,ref:t},d))}))},9585:function(e,t,r){r.d(t,{Z:function(){return y}});var a=r(4942),n=r(3366),o=r(7462),i=r(2791),s=r(8182),c=r(4419),l=r(890),u=r(1402),d=r(6934),h=r(5878),p=r(1217);function f(e){return(0,p.Z)("MuiCardHeader",e)}var v=(0,h.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),m=r(184),Z=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],g=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var r;return(0,o.Z)((r={},(0,a.Z)(r,"& .".concat(v.title),t.title),(0,a.Z)(r,"& .".concat(v.subheader),t.subheader),r),t.root)}})({display:"flex",alignItems:"center",padding:16}),x=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),b=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),j=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),y=i.forwardRef((function(e,t){var r=(0,u.Z)({props:e,name:"MuiCardHeader"}),a=r.action,i=r.avatar,d=r.className,h=r.component,p=void 0===h?"div":h,v=r.disableTypography,y=void 0!==v&&v,S=r.subheader,w=r.subheaderTypographyProps,C=r.title,P=r.titleTypographyProps,R=(0,n.Z)(r,Z),M=(0,o.Z)({},r,{component:p,disableTypography:y}),N=function(e){var t=e.classes;return(0,c.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},f,t)}(M),D=C;null==D||D.type===l.Z||y||(D=(0,m.jsx)(l.Z,(0,o.Z)({variant:i?"body2":"h5",className:N.title,component:"span",display:"block"},P,{children:D})));var A=S;return null==A||A.type===l.Z||y||(A=(0,m.jsx)(l.Z,(0,o.Z)({variant:i?"body2":"body1",className:N.subheader,color:"text.secondary",component:"span",display:"block"},w,{children:A}))),(0,m.jsxs)(g,(0,o.Z)({className:(0,s.Z)(N.root,d),as:p,ref:t,ownerState:M},R,{children:[i&&(0,m.jsx)(x,{className:N.avatar,ownerState:M,children:i}),(0,m.jsxs)(j,{className:N.content,ownerState:M,children:[D,A]}),a&&(0,m.jsx)(b,{className:N.action,ownerState:M,children:a})]}))}))},890:function(e,t,r){r.d(t,{Z:function(){return b}});var a=r(3366),n=r(7462),o=r(2791),i=r(8182),s=r(8519),c=r(4419),l=r(6934),u=r(1402),d=r(4036),h=r(5878),p=r(1217);function f(e){return(0,p.Z)("MuiTypography",e)}(0,h.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var v=r(184),m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Z=(0,l.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t["align".concat((0,d.Z)(r.align))],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})((function(e){var t=e.theme,r=e.ownerState;return(0,n.Z)({margin:0},r.variant&&t.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})})),g={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},x={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},b=o.forwardRef((function(e,t){var r=(0,u.Z)({props:e,name:"MuiTypography"}),o=function(e){return x[e]||e}(r.color),l=(0,s.Z)((0,n.Z)({},r,{color:o})),h=l.align,p=void 0===h?"inherit":h,b=l.className,j=l.component,y=l.gutterBottom,S=void 0!==y&&y,w=l.noWrap,C=void 0!==w&&w,P=l.paragraph,R=void 0!==P&&P,M=l.variant,N=void 0===M?"body1":M,D=l.variantMapping,A=void 0===D?g:D,F=(0,a.Z)(l,m),W=(0,n.Z)({},l,{align:p,color:o,className:b,component:j,gutterBottom:S,noWrap:C,paragraph:R,variant:N,variantMapping:A}),k=j||(R?"p":A[N]||g[N])||"span",B=function(e){var t=e.align,r=e.gutterBottom,a=e.noWrap,n=e.paragraph,o=e.variant,i=e.classes,s={root:["root",o,"inherit"!==e.align&&"align".concat((0,d.Z)(t)),r&&"gutterBottom",a&&"noWrap",n&&"paragraph"]};return(0,c.Z)(s,f,i)}(W);return(0,v.jsx)(Z,(0,n.Z)({as:k,ref:t,ownerState:W,className:(0,i.Z)(B.root,b)},F))}))}}]);
//# sourceMappingURL=549.0652893e.chunk.js.map