"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[220],{1266:function(e,r,n){n.r(r),n.d(r,{default:function(){return q}});var o=n(4942),a=n(6907),t=n(6934),s=n(4554),i=n(220),l=n(890),d=n(9164),c=n(6151),u=n(4721),m=n(3861),f=n(6105),h=n(3732),x=n(4165),w=n(5861),v=n(1413),Z=n(9439),g=n(2791),p=n(7689),j=n(6314),b=n(8096),P=n(4925),y=n(8029),k=n(3466),S=n(3400),C=n(9709),D=n(3710),F=n(9569),A=n(8518),R=n(3575),M=n(184);function z(){(0,p.s0)();var e=(0,A.Ds)().enqueueSnackbar,r=(0,R.a)(),n=(r.isAuthenticated,r.user,r.Forgot),a=(0,g.useState)(!1),t=(0,Z.Z)(a,2),s=t[0],i=t[1],d=(0,g.useState)({email:"",dob:"",newPassword:"",confirmPassword:""}),c=(0,Z.Z)(d,2),u=c[0],m=c[1],f=(0,g.useState)({}),h=(0,Z.Z)(f,2),z=h[0],W=h[1],B=(0,g.useState)(!1),I=(0,Z.Z)(B,2),N=I[0],q=I[1],O=(0,g.useState)(!1),T=(0,Z.Z)(O,2),E=T[0],H=T[1],L=function(){i(!s)},U=function(e){e.preventDefault()},G=function(e){m((0,v.Z)((0,v.Z)({},u),{},(0,o.Z)({},e.target.name,e.target.value)))},$=function(){var e={},r=!0;return u.email||(r=!1,e.email="Email/Username is required"),u.dob||(r=!1,e.dob="Date of Birth is required"),u.newPassword||(r=!1,e.newPassword="New Password is required"),u.confirmPassword||(r=!1,e.confirmPassword="Confirm Password is required"),u.newPassword!==u.confirmPassword&&(r=!1,e.confirmPassword="Passwords do not match"),W(e),r},J=function(){var r=(0,w.Z)((0,x.Z)().mark((function r(o){var a,t;return(0,x.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o.preventDefault(),$())try{q(!0),a=n(u.email,u.dob,u.newPassword),t=a.message,200===a.status?(e("Password changed successfully",{variant:"success"}),window.location.href="/home"):(e(t,{variant:"error"}),W({email:t,password:t})),q(!1)}catch(s){q(!1),W({email:"Invalid email/username or password"})}case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(j.Z,{spacing:1,children:[(0,M.jsx)(l.Z,{variant:"body2",sx:{color:"#f80202"},children:z.email}),(0,M.jsxs)(b.Z,{fullWidth:!0,children:[(0,M.jsx)(P.Z,{htmlFor:"outlined-adornment-username-login",children:"Email / Username"}),(0,M.jsx)(y.Z,{id:"outlined-adornment-username-login",type:"text",name:"email",value:u.email,onChange:G,label:"Username",error:!!z.email,helperText:z.email})]}),(0,M.jsx)(l.Z,{variant:"body2",sx:{color:"#f80202"},children:z.dob}),(0,M.jsxs)(b.Z,{fullWidth:!0,children:[(0,M.jsx)(P.Z,{htmlFor:"outlined-adornment-dob-login",children:"Date of Birth"}),(0,M.jsx)(y.Z,{id:"outlined-adornment-dob-login",type:E?"date":"text",name:"dob",value:u.dob,onChange:G,onFocus:function(){H(!0)},onBlur:function(){return H(!1)},label:"Date of Birth",error:!!z.dob,helperText:z.dob})]}),(0,M.jsx)(l.Z,{variant:"body2",sx:{color:"#f80202"},children:z.newPassword}),(0,M.jsxs)(b.Z,{fullWidth:!0,children:[(0,M.jsx)(P.Z,{htmlFor:"outlined-adornment-newpassword-login",children:"New Password"}),(0,M.jsx)(y.Z,{id:"outlined-adornment-newpassword-login",type:s?"text":"password",name:"newPassword",value:u.newPassword,onChange:G,endAdornment:(0,M.jsx)(k.Z,{position:"end",children:(0,M.jsx)(S.Z,{"aria-label":"toggle password visibility",onClick:L,onMouseDown:U,edge:"end",size:"large",children:s?(0,M.jsx)(D.Z,{}):(0,M.jsx)(F.Z,{})})}),label:"New Password",error:!!z.newPassword,helperText:z.newPassword})]}),(0,M.jsx)(l.Z,{variant:"body2",sx:{color:"#f80202"},children:z.confirmPassword}),(0,M.jsxs)(b.Z,{fullWidth:!0,children:[(0,M.jsx)(P.Z,{htmlFor:"outlined-adornment-confirmpassword-login",children:"Confirm Password"}),(0,M.jsx)(y.Z,{id:"outlined-adornment-confirmpassword-login",type:s?"text":"password",name:"confirmPassword",value:u.confirmPassword,onChange:G,endAdornment:(0,M.jsx)(k.Z,{position:"end",children:(0,M.jsx)(S.Z,{"aria-label":"toggle password visibility",onClick:L,onMouseDown:U,edge:"end",size:"large",children:s?(0,M.jsx)(D.Z,{}):(0,M.jsx)(F.Z,{})})}),label:"Confirm Password",error:!!z.confirmPassword,helperText:z.confirmPassword})]}),(0,M.jsxs)(C.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:N,onClick:J,children:[N&&(0,M.jsx)(M.Fragment,{children:"Loading..."}),!N&&(0,M.jsx)(M.Fragment,{children:"CHANGE PASSWORD"})]})]})})}var W=n(7394),B=(0,t.ZP)("div")((function(e){var r=e.theme;return(0,o.Z)({},r.breakpoints.up("md"),{display:"flex"})})),I=(0,t.ZP)("div")((function(e){var r=e.theme;return{width:"100%",maxWidth:480,display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:r.customShadows.card,backgroundColor:r.palette.background.default}})),N=(0,t.ZP)("div")((function(e){return{maxWidth:480,margin:"auto",minHeight:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",padding:e.theme.spacing(12,0)}}));function q(){var e=(0,m.Z)("up","md");return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(a.ql,{children:(0,M.jsx)("title",{children:" Forgot password | MI LIBRO "})}),(0,M.jsxs)(B,{children:[(0,M.jsxs)(s.Z,{sx:{position:"fixed",top:{xs:16,sm:24,md:40},left:{xs:16,sm:24,md:40}},children:[(0,M.jsx)(i.Z,{src:f}),"  ","MI LIBRO"]}),e&&(0,M.jsxs)(I,{children:[(0,M.jsx)(l.Z,{variant:"h3",sx:{px:5,mt:10,mb:5},children:"Hi, Welcome Back"}),(0,M.jsx)("img",{src:h,alt:"login"})]}),(0,M.jsx)(d.Z,{maxWidth:"sm",children:(0,M.jsxs)(N,{children:[(0,M.jsx)(l.Z,{variant:"body2",children:(0,M.jsxs)(c.Z,{size:"medium",onClick:function(){return window.location.replace("/login")},children:[(0,M.jsx)(W.Z,{})," "," Go Back"]})}),(0,M.jsx)(u.Z,{sx:{my:3}}),(0,M.jsx)(z,{})]})})]})]})}},220:function(e,r,n){n.d(r,{Z:function(){return g}});var o=n(9439),a=n(3366),t=n(7462),s=n(2791),i=n(8182),l=n(4419),d=n(6934),c=n(1402),u=n(9201),m=n(184),f=(0,u.Z)((0,m.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),h=n(2800),x=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],w=(0,d.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r[n.variant],n.colorDefault&&r.colorDefault]}})((function(e){var r=e.theme,n=e.ownerState;return(0,t.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,t.Z)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[600]}))})),v=(0,d.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,r){return r.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Z=(0,d.ZP)(f,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,r){return r.fallback}})({width:"75%",height:"75%"});var g=s.forwardRef((function(e,r){var n=(0,c.Z)({props:e,name:"MuiAvatar"}),d=n.alt,u=n.children,f=n.className,g=n.component,p=void 0===g?"div":g,j=n.imgProps,b=n.sizes,P=n.src,y=n.srcSet,k=n.variant,S=void 0===k?"circular":k,C=(0,a.Z)(n,x),D=null,F=function(e){var r=e.crossOrigin,n=e.referrerPolicy,a=e.src,t=e.srcSet,i=s.useState(!1),l=(0,o.Z)(i,2),d=l[0],c=l[1];return s.useEffect((function(){if(a||t){c(!1);var e=!0,o=new Image;return o.onload=function(){e&&c("loaded")},o.onerror=function(){e&&c("error")},o.crossOrigin=r,o.referrerPolicy=n,o.src=a,t&&(o.srcset=t),function(){e=!1}}}),[r,n,a,t]),d}((0,t.Z)({},j,{src:P,srcSet:y})),A=P||y,R=A&&"error"!==F,M=(0,t.Z)({},n,{colorDefault:!R,component:p,variant:S}),z=function(e){var r=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,l.Z)(n,h.$,r)}(M);return D=R?(0,m.jsx)(v,(0,t.Z)({alt:d,src:P,srcSet:y,sizes:b,ownerState:M,className:z.img},j)):null!=u?u:A&&d?d[0]:(0,m.jsx)(Z,{ownerState:M,className:z.fallback}),(0,m.jsx)(w,(0,t.Z)({as:p,ownerState:M,className:(0,i.Z)(z.root,f),ref:r},C,{children:D}))}))},2800:function(e,r,n){n.d(r,{$:function(){return t}});var o=n(5878),a=n(1217);function t(e){return(0,a.Z)("MuiAvatar",e)}var s=(0,o.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);r.Z=s},7384:function(e,r,n){var o=n(6248);r.Z=o.Z}}]);
//# sourceMappingURL=220.bd3c68db.chunk.js.map