"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[549],{4549:function(e,t,r){r.r(t),r.d(t,{default:function(){return R}});var n=r(9439),a=r(2791),i=r(6907),o=r(3967),s=r(4554),l=r(9164),c=r(6314),u=r(7047),d=r(890),h=r(1889),f=r(3575),p=r(7621),m=r(9504),x=r(220),v=r(4721),g=r(2363),Z=r(6151),j=r(184);function b(){var e=(0,f.a)(),t=e.user,r=e.updateUserProfileFetch,i=(0,a.useState)(),o=(0,n.Z)(i,2),l=o[0],c=o[1],u=(0,a.useState)(null),h=(0,n.Z)(u,2),b=h[0],y=h[1],S=(0,a.useState)(!1),w=(0,n.Z)(S,2),P=w[0],D=w[1];(0,a.useEffect)((function(){c(t.pic)}),[t]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(p.Z,{children:[(0,j.jsx)(m.Z,{children:(0,j.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[(0,j.jsx)(x.Z,{src:l,sx:{height:80,mb:2,width:80}}),(0,j.jsx)(d.Z,{gutterBottom:!0,variant:"h5",children:t.name}),(0,j.jsx)(d.Z,{color:"text.secondary",variant:"body2",children:t.email}),(0,j.jsx)(d.Z,{color:"text.secondary",variant:"body2",children:t.phno})]})}),(0,j.jsx)(v.Z,{}),(0,j.jsxs)(g.Z,{children:[!b&&(0,j.jsxs)(Z.Z,{fullWidth:!0,variant:"text",component:"label",disabled:P,children:[P?"Saving...":"Update Picture",(0,j.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){var t=e.target.files[0],r=new FileReader;r.onloadend=function(){c(r.result),y(t)},t&&r.readAsDataURL(t)}})]}),b&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Z.Z,{fullWidth:!0,variant:"text",onClick:function(){if(b){D(!0);var e=new FileReader;e.onloadend=function(){setTimeout((function(){D(!1),c(e.result),y(null),r(e.result)}),1e3)},e.readAsDataURL(b)}},disabled:P,children:"Save"}),(0,j.jsx)(Z.Z,{fullWidth:!0,variant:"text",onClick:function(){c(t.pic),y(null)},disabled:P,children:"Cancel"})]})]})]})})}var y=r(4165),S=r(4942),w=r(1413),P=r(5861),D=r(9585),F=r(8550),W=r(8096),C=r(8029),k=function(){var e=(0,f.a)(),t=e.getUserData_,r=e.updateUserDataFetch,i=(0,a.useState)({}),o=(0,n.Z)(i,2),l=o[0],c=o[1],u=(0,a.useState)({}),x=(0,n.Z)(u,2),b=x[0],k=x[1],R=(0,a.useState)("text"),N=(0,n.Z)(R,2),B=N[0],M=N[1];(0,a.useEffect)((function(){function e(){return(e=(0,P.Z)((0,y.Z)().mark((function e(){var r,n;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return r=e.sent,c(r),e.next=6,A(r.dob);case 6:n=e.sent,c((function(e){return(0,w.Z)((0,w.Z)({},e),{},(0,S.Z)({},"dob",n))}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var A=function(e){var t=e.split("-"),r=(0,n.Z)(t,3),a=r[0],i=r[1],o=r[2];return"".concat(o,"-").concat(i,"-").concat(a)},q=function(e){var t=e.target,r=t.name,n=t.value;if(c((function(e){return(0,w.Z)((0,w.Z)({},e),{},(0,S.Z)({},r,n))})),"dob"===r){var a=T(n);c((function(e){return(0,w.Z)((0,w.Z)({},e),{},{age:a})}))}},T=function(e){var t=new Date,r=new Date(e),n=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return(a<0||0===a&&t.getDate()<r.getDate())&&n--,n.toString()};return(0,j.jsx)("form",{autoComplete:"off",noValidate:!0,onSubmit:function(e){e.preventDefault();var t={};""===l.name&&(t.name="Name is required"),""===l.phoneNumber&&(t.phoneNumber="Phone number is required"),""===l.dob&&(t.dob="Date of Birth is required"),""===l.place&&(t.place="Date of Birth is required"),""===l.education&&(t.education="Education is required"),""===l.address&&(t.address="Address is required"),k(t),0===Object.keys(t).length&&(r(l),k({}))},children:(0,j.jsxs)(p.Z,{children:[(0,j.jsx)(D.Z,{defaultExpanded:!0,subheader:"The information can be edited",title:"Profile"}),(0,j.jsx)("br",{}),(0,j.jsx)(m.Z,{sx:{pt:0},children:(0,j.jsx)(s.Z,{children:(0,j.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,j.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,j.jsx)(d.Z,{children:"Name"}),(0,j.jsx)(F.Z,{fullWidth:!0,name:"name",onChange:q,required:!0,value:l.name,autoFocus:!0})]}),(0,j.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,j.jsx)(d.Z,{children:"Email "}),(0,j.jsx)(F.Z,{fullWidth:!0,name:"email",disabled:!0,value:l.email,autoFocus:!0})]}),(0,j.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,j.jsx)(d.Z,{children:"Phone Number"}),(0,j.jsxs)(W.Z,{fullWidth:!0,error:!!b.phone,children:[(0,j.jsx)(C.Z,{id:"outlined-adornment-phoneNo",type:"text",name:"phone",value:l.phoneNumber,onChange:q,disabled:!0,autoFocus:!0}),b.phoneNumber&&(0,j.jsx)(d.Z,{variant:"body2",sx:{color:"#f80202"},children:b.phoneNumber})]})]}),(0,j.jsxs)(h.ZP,{item:!0,xs:12,md:6,children:[(0,j.jsx)(d.Z,{children:"Date of Birth"}),"text"===B?(0,j.jsx)(F.Z,{fullWidth:!0,name:"dob",onClick:function(){M("date")},required:!0,value:l.dob,autoFocus:!0}):(0,j.jsx)(F.Z,{fullWidth:!0,name:"dob",type:"date",onChange:q,required:!0,value:l.dob,autoFocus:!0}),b.dob&&(0,j.jsx)(d.Z,{variant:"body2",sx:{color:"#f80202"},children:b.dob})]}),(0,j.jsxs)(h.ZP,{item:!0,xs:12,md:6,children:[(0,j.jsx)(d.Z,{children:"Age"}),(0,j.jsx)(F.Z,{fullWidth:!0,name:"age",onChange:q,value:l.age,autoFocus:!0})]}),(0,j.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,j.jsx)(d.Z,{children:"Education"}),(0,j.jsx)(F.Z,{fullWidth:!0,name:"education",onChange:q,required:!0,value:l.education,autoFocus:!0})]}),(0,j.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,j.jsx)(d.Z,{children:"Place"}),(0,j.jsx)(F.Z,{fullWidth:!0,name:"place",onChange:q,required:!0,value:l.place,autoFocus:!0})]}),(0,j.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,j.jsx)(d.Z,{children:"Address"}),(0,j.jsx)(F.Z,{fullWidth:!0,name:"contactDetails",onChange:q,required:!0,value:l.contactDetails,autoFocus:!0})]})]})})}),(0,j.jsx)(v.Z,{}),(0,j.jsx)(g.Z,{sx:{justifyContent:"flex-end"},children:(0,j.jsx)(Z.Z,{variant:"contained",disabled:!["name","phone","dob","age","education","address","place","contactDetails"].every((function(e){return""!==l[e]})),type:"submit",children:"Save Details"})})]})})};function R(){(0,o.Z)(),(0,f.a)().user;var e=a.useState(!0),t=(0,n.Z)(e,2),r=t[0],p=t[1];return(0,a.useEffect)((function(){var e=setTimeout((function(){p(!1)}),2e3);return function(){return clearTimeout(e)}}),[]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.ql,{children:(0,j.jsx)("title",{children:"Account | MI LIBRO"})}),(0,j.jsx)(s.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,j.jsx)(l.Z,{maxWidth:"lg",children:(0,j.jsxs)(c.Z,{spacing:3,children:[(0,j.jsx)("div",{children:r?(0,j.jsx)(u.Z,{variant:"text",width:200,height:40}):(0,j.jsx)(d.Z,{variant:"h4",children:"Account"})}),(0,j.jsx)("br",{}),(0,j.jsx)("div",{children:(0,j.jsxs)(h.ZP,{container:!0,spacing:5,children:[(0,j.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:4,children:r?(0,j.jsx)(u.Z,{variant:"rectangular",height:400}):(0,j.jsx)(b,{})}),(0,j.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:8,children:r?(0,j.jsx)(u.Z,{variant:"rectangular",height:400}):(0,j.jsx)(k,{})})]})})]})})})]})}},220:function(e,t,r){r.d(t,{Z:function(){return Z}});var n=r(9439),a=r(3366),i=r(7462),o=r(2791),s=r(8182),l=r(4419),c=r(6934),u=r(1402),d=r(9201),h=r(184),f=(0,d.Z)((0,h.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),p=r(2800),m=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],x=(0,c.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===r.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===r.variant&&{borderRadius:0},r.colorDefault&&(0,i.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),v=(0,c.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),g=(0,c.ZP)(f,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var Z=o.forwardRef((function(e,t){var r=(0,u.Z)({props:e,name:"MuiAvatar"}),c=r.alt,d=r.children,f=r.className,Z=r.component,j=void 0===Z?"div":Z,b=r.imgProps,y=r.sizes,S=r.src,w=r.srcSet,P=r.variant,D=void 0===P?"circular":P,F=(0,a.Z)(r,m),W=null,C=function(e){var t=e.crossOrigin,r=e.referrerPolicy,a=e.src,i=e.srcSet,s=o.useState(!1),l=(0,n.Z)(s,2),c=l[0],u=l[1];return o.useEffect((function(){if(a||i){u(!1);var e=!0,n=new Image;return n.onload=function(){e&&u("loaded")},n.onerror=function(){e&&u("error")},n.crossOrigin=t,n.referrerPolicy=r,n.src=a,i&&(n.srcset=i),function(){e=!1}}}),[t,r,a,i]),c}((0,i.Z)({},b,{src:S,srcSet:w})),k=S||w,R=k&&"error"!==C,N=(0,i.Z)({},r,{colorDefault:!R,component:j,variant:D}),B=function(e){var t=e.classes,r={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,l.Z)(r,p.$,t)}(N);return W=R?(0,h.jsx)(v,(0,i.Z)({alt:c,src:S,srcSet:w,sizes:y,ownerState:N,className:B.img},b)):null!=d?d:k&&c?c[0]:(0,h.jsx)(g,{ownerState:N,className:B.fallback}),(0,h.jsx)(x,(0,i.Z)({as:j,ownerState:N,className:(0,s.Z)(B.root,f),ref:t},F,{children:W}))}))},2800:function(e,t,r){r.d(t,{$:function(){return i}});var n=r(5878),a=r(1217);function i(e){return(0,a.Z)("MuiAvatar",e)}var o=(0,n.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);t.Z=o},890:function(e,t,r){r.d(t,{Z:function(){return j}});var n=r(3366),a=r(7462),i=r(2791),o=r(8182),s=r(8519),l=r(4419),c=r(6934),u=r(1402),d=r(4036),h=r(5878),f=r(1217);function p(e){return(0,f.Z)("MuiTypography",e)}(0,h.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=r(184),x=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t["align".concat((0,d.Z)(r.align))],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})((function(e){var t=e.theme,r=e.ownerState;return(0,a.Z)({margin:0},r.variant&&t.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})})),g={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Z={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},j=i.forwardRef((function(e,t){var r=(0,u.Z)({props:e,name:"MuiTypography"}),i=function(e){return Z[e]||e}(r.color),c=(0,s.Z)((0,a.Z)({},r,{color:i})),h=c.align,f=void 0===h?"inherit":h,j=c.className,b=c.component,y=c.gutterBottom,S=void 0!==y&&y,w=c.noWrap,P=void 0!==w&&w,D=c.paragraph,F=void 0!==D&&D,W=c.variant,C=void 0===W?"body1":W,k=c.variantMapping,R=void 0===k?g:k,N=(0,n.Z)(c,x),B=(0,a.Z)({},c,{align:f,color:i,className:j,component:b,gutterBottom:S,noWrap:P,paragraph:F,variant:C,variantMapping:R}),M=b||(F?"p":R[C]||g[C])||"span",A=function(e){var t=e.align,r=e.gutterBottom,n=e.noWrap,a=e.paragraph,i=e.variant,o=e.classes,s={root:["root",i,"inherit"!==e.align&&"align".concat((0,d.Z)(t)),r&&"gutterBottom",n&&"noWrap",a&&"paragraph"]};return(0,l.Z)(s,p,o)}(B);return(0,m.jsx)(v,(0,a.Z)({as:M,ref:t,ownerState:B,className:(0,o.Z)(A.root,j)},N))}))}}]);
//# sourceMappingURL=549.908bb6a1.chunk.js.map