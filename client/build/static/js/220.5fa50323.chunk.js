"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[220],{1266:function(e,r,n){n.r(r),n.d(r,{default:function(){return I}});var t=n(4942),a=n(6907),o=n(6934),i=n(8870),s=n(220),l=n(890),d=n(266),c=n(6151),u=n(4721),m=n(3861),h=n(6105),p=n(3732),f=n(4165),v=n(5861),g=n(1413),Z=n(9439),x=n(2791),w=n(7689),b=n(6314),y=n(8096),j=n(4925),P=n(7196),S=n(3466),k=n(3400),M=n(9709),C=n(3710),R=n(9569),B=n(8518),W=n(3575),A=n(184);function D(){(0,w.s0)();var e=(0,B.Ds)().enqueueSnackbar,r=(0,W.a)(),n=(r.isAuthenticated,r.user,r.Forgot),a=(0,x.useState)(!1),o=(0,Z.Z)(a,2),i=o[0],s=o[1],d=(0,x.useState)({email:"",dob:"",newPassword:"",confirmPassword:""}),c=(0,Z.Z)(d,2),u=c[0],m=c[1],h=(0,x.useState)({}),p=(0,Z.Z)(h,2),D=p[0],N=p[1],F=(0,x.useState)(!1),z=(0,Z.Z)(F,2),E=z[0],I=z[1],T=(0,x.useState)(!1),L=(0,Z.Z)(T,2),q=L[0],O=L[1],H=function(){s(!i)},U=function(e){e.preventDefault()},G=function(e){m((0,g.Z)((0,g.Z)({},u),{},(0,t.Z)({},e.target.name,e.target.value)))},$=function(){var e={},r=!0;return u.email||(r=!1,e.email="Email/Username is required"),u.dob||(r=!1,e.dob="Date of Birth is required"),u.newPassword||(r=!1,e.newPassword="New Password is required"),u.confirmPassword||(r=!1,e.confirmPassword="Confirm Password is required"),u.newPassword!==u.confirmPassword&&(r=!1,e.confirmPassword="Passwords do not match"),N(e),r},J=function(){var r=(0,v.Z)((0,f.Z)().mark((function r(t){var a,o;return(0,f.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),$())try{I(!0),a=n(u.email,u.dob,u.newPassword),o=a.message,200===a.status?(e("Password changed successfully",{variant:"success"}),window.location.href="/home"):(e(o,{variant:"error"}),N({email:o,password:o})),I(!1)}catch(i){I(!1),N({email:"Invalid email/username or password"})}case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(b.Z,{spacing:1,children:[(0,A.jsx)(l.Z,{variant:"body2",sx:{color:"#f80202"},children:D.email}),(0,A.jsxs)(y.Z,{fullWidth:!0,children:[(0,A.jsx)(j.Z,{htmlFor:"outlined-adornment-username-login",children:"Email / Username"}),(0,A.jsx)(P.Z,{id:"outlined-adornment-username-login",type:"text",name:"email",value:u.email,onChange:G,label:"Username",error:!!D.email,helperText:D.email})]}),(0,A.jsx)(l.Z,{variant:"body2",sx:{color:"#f80202"},children:D.dob}),(0,A.jsxs)(y.Z,{fullWidth:!0,children:[(0,A.jsx)(j.Z,{htmlFor:"outlined-adornment-dob-login",children:"Date of Birth"}),(0,A.jsx)(P.Z,{id:"outlined-adornment-dob-login",type:q?"date":"text",name:"dob",value:u.dob,onChange:G,onFocus:function(){O(!0)},onBlur:function(){return O(!1)},label:"Date of Birth",error:!!D.dob,helperText:D.dob})]}),(0,A.jsx)(l.Z,{variant:"body2",sx:{color:"#f80202"},children:D.newPassword}),(0,A.jsxs)(y.Z,{fullWidth:!0,children:[(0,A.jsx)(j.Z,{htmlFor:"outlined-adornment-newpassword-login",children:"New Password"}),(0,A.jsx)(P.Z,{id:"outlined-adornment-newpassword-login",type:i?"text":"password",name:"newPassword",value:u.newPassword,onChange:G,endAdornment:(0,A.jsx)(S.Z,{position:"end",children:(0,A.jsx)(k.Z,{"aria-label":"toggle password visibility",onClick:H,onMouseDown:U,edge:"end",size:"large",children:i?(0,A.jsx)(C.Z,{}):(0,A.jsx)(R.Z,{})})}),label:"New Password",error:!!D.newPassword,helperText:D.newPassword})]}),(0,A.jsx)(l.Z,{variant:"body2",sx:{color:"#f80202"},children:D.confirmPassword}),(0,A.jsxs)(y.Z,{fullWidth:!0,children:[(0,A.jsx)(j.Z,{htmlFor:"outlined-adornment-confirmpassword-login",children:"Confirm Password"}),(0,A.jsx)(P.Z,{id:"outlined-adornment-confirmpassword-login",type:i?"text":"password",name:"confirmPassword",value:u.confirmPassword,onChange:G,endAdornment:(0,A.jsx)(S.Z,{position:"end",children:(0,A.jsx)(k.Z,{"aria-label":"toggle password visibility",onClick:H,onMouseDown:U,edge:"end",size:"large",children:i?(0,A.jsx)(C.Z,{}):(0,A.jsx)(R.Z,{})})}),label:"Confirm Password",error:!!D.confirmPassword,helperText:D.confirmPassword})]}),(0,A.jsxs)(M.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:E,onClick:J,children:[E&&(0,A.jsx)(A.Fragment,{children:"Loading..."}),!E&&(0,A.jsx)(A.Fragment,{children:"CHANGE PASSWORD"})]})]})})}var N=n(7394),F=(0,o.ZP)("div")((function(e){var r=e.theme;return(0,t.Z)({},r.breakpoints.up("md"),{display:"flex"})})),z=(0,o.ZP)("div")((function(e){var r=e.theme;return{width:"100%",maxWidth:480,display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:r.customShadows.card,backgroundColor:r.palette.background.default}})),E=(0,o.ZP)("div")((function(e){return{maxWidth:480,margin:"auto",minHeight:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",padding:e.theme.spacing(12,0)}}));function I(){var e=(0,m.Z)("up","md");return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(a.ql,{children:(0,A.jsx)("title",{children:" Forgot password | MI LIBRO "})}),(0,A.jsxs)(F,{children:[(0,A.jsxs)(i.Z,{sx:{position:"fixed",top:{xs:16,sm:24,md:40},left:{xs:16,sm:24,md:40}},children:[(0,A.jsx)(s.Z,{src:h}),"  ","MI LIBRO"]}),e&&(0,A.jsxs)(z,{children:[(0,A.jsx)(l.Z,{variant:"h3",sx:{px:5,mt:10,mb:5},children:"Hi, Welcome Back"}),(0,A.jsx)("img",{src:p,alt:"login"})]}),(0,A.jsx)(d.Z,{maxWidth:"sm",children:(0,A.jsxs)(E,{children:[(0,A.jsx)(l.Z,{variant:"body2",children:(0,A.jsxs)(c.Z,{size:"medium",onClick:function(){return window.location.replace("/login")},children:[(0,A.jsx)(N.Z,{})," "," Go Back"]})}),(0,A.jsx)(u.Z,{sx:{my:3}}),(0,A.jsx)(D,{})]})})]})]})}},220:function(e,r,n){n.d(r,{Z:function(){return x}});var t=n(9439),a=n(3366),o=n(7462),i=n(2791),s=n(8182),l=n(4419),d=n(6934),c=n(1402),u=n(9201),m=n(184),h=(0,u.Z)((0,m.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),p=n(2800),f=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],v=(0,d.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r[n.variant],n.colorDefault&&r.colorDefault]}})((function(e){var r=e.theme,n=e.ownerState;return(0,o.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,o.Z)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[600]}))})),g=(0,d.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,r){return r.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Z=(0,d.ZP)(h,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,r){return r.fallback}})({width:"75%",height:"75%"});var x=i.forwardRef((function(e,r){var n=(0,c.Z)({props:e,name:"MuiAvatar"}),d=n.alt,u=n.children,h=n.className,x=n.component,w=void 0===x?"div":x,b=n.imgProps,y=n.sizes,j=n.src,P=n.srcSet,S=n.variant,k=void 0===S?"circular":S,M=(0,a.Z)(n,f),C=null,R=function(e){var r=e.crossOrigin,n=e.referrerPolicy,a=e.src,o=e.srcSet,s=i.useState(!1),l=(0,t.Z)(s,2),d=l[0],c=l[1];return i.useEffect((function(){if(a||o){c(!1);var e=!0,t=new Image;return t.onload=function(){e&&c("loaded")},t.onerror=function(){e&&c("error")},t.crossOrigin=r,t.referrerPolicy=n,t.src=a,o&&(t.srcset=o),function(){e=!1}}}),[r,n,a,o]),d}((0,o.Z)({},b,{src:j,srcSet:P})),B=j||P,W=B&&"error"!==R,A=(0,o.Z)({},n,{colorDefault:!W,component:w,variant:k}),D=function(e){var r=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,l.Z)(n,p.$,r)}(A);return C=W?(0,m.jsx)(g,(0,o.Z)({alt:d,src:j,srcSet:P,sizes:y,ownerState:A,className:D.img},b)):null!=u?u:B&&d?d[0]:(0,m.jsx)(Z,{ownerState:A,className:D.fallback}),(0,m.jsx)(v,(0,o.Z)({as:w,ownerState:A,className:(0,s.Z)(D.root,h),ref:r},M,{children:C}))}))},2800:function(e,r,n){n.d(r,{$:function(){return o}});var t=n(5878),a=n(1217);function o(e){return(0,a.Z)("MuiAvatar",e)}var i=(0,t.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);r.Z=i},3466:function(e,r,n){n.d(r,{Z:function(){return j}});var t=n(4942),a=n(3366),o=n(7462),i=n(2791),s=n(8182),l=n(4419),d=n(4036),c=n(890),u=n(3840),m=n(2930),h=n(6934),p=n(5878),f=n(1217);function v(e){return(0,f.Z)("MuiInputAdornment",e)}var g,Z=(0,p.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),x=n(1402),w=n(184),b=["children","className","component","disablePointerEvents","disableTypography","position","variant"],y=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r["position".concat((0,d.Z)(n.position))],!0===n.disablePointerEvents&&r.disablePointerEvents,r[n.variant]]}})((function(e){var r=e.theme,n=e.ownerState;return(0,o.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(r.vars||r).palette.action.active},"filled"===n.variant&&(0,t.Z)({},"&.".concat(Z.positionStart,"&:not(.").concat(Z.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),j=i.forwardRef((function(e,r){var n=(0,x.Z)({props:e,name:"MuiInputAdornment"}),t=n.children,h=n.className,p=n.component,f=void 0===p?"div":p,Z=n.disablePointerEvents,j=void 0!==Z&&Z,P=n.disableTypography,S=void 0!==P&&P,k=n.position,M=n.variant,C=(0,a.Z)(n,b),R=(0,m.Z)()||{},B=M;M&&R.variant,R&&!B&&(B=R.variant);var W=(0,o.Z)({},n,{hiddenLabel:R.hiddenLabel,size:R.size,disablePointerEvents:j,position:k,variant:B}),A=function(e){var r=e.classes,n=e.disablePointerEvents,t=e.hiddenLabel,a=e.position,o=e.size,i=e.variant,s={root:["root",n&&"disablePointerEvents",a&&"position".concat((0,d.Z)(a)),i,t&&"hiddenLabel",o&&"size".concat((0,d.Z)(o))]};return(0,l.Z)(s,v,r)}(W);return(0,w.jsx)(u.Z.Provider,{value:null,children:(0,w.jsx)(y,(0,o.Z)({as:f,ownerState:W,className:(0,s.Z)(A.root,h),ref:r},C,{children:"string"!==typeof t||S?(0,w.jsxs)(i.Fragment,{children:["start"===k?g||(g=(0,w.jsx)("span",{className:"notranslate",children:"\u200b"})):null,t]}):(0,w.jsx)(c.Z,{color:"text.secondary",children:t})}))})}))},890:function(e,r,n){n.d(r,{Z:function(){return w}});var t=n(3366),a=n(7462),o=n(2791),i=n(8182),s=n(8519),l=n(4419),d=n(6934),c=n(1402),u=n(4036),m=n(5878),h=n(1217);function p(e){return(0,h.Z)("MuiTypography",e)}(0,m.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var f=n(184),v=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=(0,d.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,n.variant&&r[n.variant],"inherit"!==n.align&&r["align".concat((0,u.Z)(n.align))],n.noWrap&&r.noWrap,n.gutterBottom&&r.gutterBottom,n.paragraph&&r.paragraph]}})((function(e){var r=e.theme,n=e.ownerState;return(0,a.Z)({margin:0},n.variant&&r.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Z={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},x={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},w=o.forwardRef((function(e,r){var n=(0,c.Z)({props:e,name:"MuiTypography"}),o=function(e){return x[e]||e}(n.color),d=(0,s.Z)((0,a.Z)({},n,{color:o})),m=d.align,h=void 0===m?"inherit":m,w=d.className,b=d.component,y=d.gutterBottom,j=void 0!==y&&y,P=d.noWrap,S=void 0!==P&&P,k=d.paragraph,M=void 0!==k&&k,C=d.variant,R=void 0===C?"body1":C,B=d.variantMapping,W=void 0===B?Z:B,A=(0,t.Z)(d,v),D=(0,a.Z)({},d,{align:h,color:o,className:w,component:b,gutterBottom:j,noWrap:S,paragraph:M,variant:R,variantMapping:W}),N=b||(M?"p":W[R]||Z[R])||"span",F=function(e){var r=e.align,n=e.gutterBottom,t=e.noWrap,a=e.paragraph,o=e.variant,i=e.classes,s={root:["root",o,"inherit"!==e.align&&"align".concat((0,u.Z)(r)),n&&"gutterBottom",t&&"noWrap",a&&"paragraph"]};return(0,l.Z)(s,p,i)}(D);return(0,f.jsx)(g,(0,a.Z)({as:N,ref:r,ownerState:D,className:(0,i.Z)(F.root,w)},A))}))},7384:function(e,r,n){var t=n(6248);r.Z=t.Z}}]);
//# sourceMappingURL=220.5fa50323.chunk.js.map