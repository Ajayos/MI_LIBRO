"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[869],{3869:function(e,r,t){t.r(r),t.d(r,{default:function(){return U}});var n=t(4165),i=t(5861),o=t(9439),a=(t(6907),t(2791)),c=t(9164),s=t(890),l=t(6314),d=t(7047),u=t(7621),h=t(4554),p=t(533),x=t(3400),Z=t(9861),f=t(220),m=t(6151),v=t(3590),b=t(718),g=t(6934),j=(t(5042),t(1413)),y=t(5987),w=t(3967),k=t(2065),C=(0,g.ZP)(h.Z)((function(e){var r=e.theme,t=e.ownerState,n="light"===r.palette.mode,i="filled"===t.variant,o="outlined"===t.variant,a="soft"===t.variant,c=(0,j.Z)({},"default"===t.color&&(0,j.Z)((0,j.Z)({},o&&{backgroundColor:"transparent",color:r.palette.text.primary,border:"1px solid ".concat((0,k.Fq)(r.palette.grey[500],.32))}),a&&{color:n?r.palette.text.primary:r.palette.common.white,backgroundColor:(0,k.Fq)(r.palette.grey[500],.16)})),s=(0,j.Z)({},"default"!==t.color&&(0,j.Z)((0,j.Z)((0,j.Z)({},i&&{color:r.palette[t.color].contrastText,backgroundColor:r.palette[t.color].main}),o&&{backgroundColor:"transparent",color:r.palette[t.color].main,border:"1px solid ".concat(r.palette[t.color].main)}),a&&{color:r.palette[t.color][n?"dark":"light"],backgroundColor:(0,k.Fq)(r.palette[t.color].main,.16)}));return(0,j.Z)((0,j.Z)({height:24,minWidth:22,lineHeight:0,borderRadius:6,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",textTransform:"capitalize",padding:r.spacing(0,1),color:r.palette.grey[800],fontSize:r.typography.pxToRem(12),fontFamily:r.typography.fontFamily,backgroundColor:r.palette.grey[300],fontWeight:r.typography.fontWeightBold},s),c)})),S=t(184),P=["children","color","variant","startIcon","endIcon","sx"],D=(0,a.forwardRef)((function(e,r){var t=e.children,n=e.color,i=void 0===n?"default":n,o=e.variant,a=void 0===o?"soft":o,c=e.startIcon,s=e.endIcon,l=e.sx,d=(0,y.Z)(e,P),u=(0,w.Z)(),p={width:16,height:16,"& svg, img":{width:1,height:1,objectFit:"cover"}};return(0,S.jsxs)(C,(0,j.Z)((0,j.Z)({ref:r,component:"span",ownerState:{color:i,variant:a},sx:(0,j.Z)((0,j.Z)((0,j.Z)({},c&&{pl:.75}),s&&{pr:.75}),l),theme:u},d),{},{children:[c&&(0,S.jsxs)(h.Z,{sx:(0,j.Z)({mr:.75},p),children:[" ",c," "]}),t,s&&(0,S.jsxs)(h.Z,{sx:(0,j.Z)({ml:.75},p),children:[" ",s," "]})]}))})),F=t(7237),I=t(7488),M=t(2654),B=t(3575),T=(0,g.ZP)("img")({top:0,width:"100%",height:"100%",objectFit:"cover",position:"absolute"});function z(e){var r=e.product,t=(0,B.a)().LikeBook,n=r._id,i=(r.name,r.authorName,r.cover,r.price,r.status),c=(r.publishedDate,r.priceSale,r.likeNumber,r.commentNumber),d=r.pic,g=r.title,j=r.author,y=r.publicationDate,w=r.genre,k=r.isbn,C=r.description,P=r.usersPics,z=(0,a.useState)(!1),N=(0,o.Z)(z,2),R=N[0],A=N[1],L=(0,a.useState)(!1),O=(0,o.Z)(L,2),W=O[0],q=O[1],E=function(){var e=new Date,r=new Date(y);return(e.getTime()-r.getTime())/864e5<=2}();return(0,S.jsxs)(u.Z,{children:[(0,S.jsxs)(h.Z,{sx:{pt:"100%",position:"relative"},children:[i&&(0,S.jsx)(D,{variant:"filled",color:"Available"===i?"success":"Rented"===i?"warning":"error",sx:{zIndex:9,top:16,right:16,position:"absolute",textTransform:"uppercase"},children:i}),(0,S.jsx)(T,{alt:g,src:d}),E&&(0,S.jsx)(h.Z,{sx:{position:"absolute",top:0,left:0,bgcolor:"primary.main",color:"common.white",p:"2px 8px",borderRadius:"4px"},children:(0,S.jsx)(s.Z,{variant:"caption",children:"New"})})]}),(0,S.jsxs)(l.Z,{spacing:2,sx:{p:3},children:[(0,S.jsx)(p.Z,{color:"inherit",underline:"hover",children:(0,S.jsx)(s.Z,{variant:"subtitle2",noWrap:!0,children:g})}),(0,S.jsxs)(s.Z,{variant:"caption",children:["Author: ",j]}),(0,S.jsx)(s.Z,{variant:"caption",children:"Likes: 5 "}),(0,S.jsxs)(s.Z,{variant:"caption",children:["Comments: ",c]}),(0,S.jsxs)(s.Z,{variant:"caption",children:["Published Date: ",(0,M.Mu)(y)]}),(0,S.jsxs)(s.Z,{variant:"caption",children:["Genre: ",w]}),(0,S.jsxs)(l.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,S.jsx)(x.Z,{color:R?"error":"default",onClick:function(){A(!R),t(n,!R)},children:R?(0,S.jsx)(F.Z,{}):(0,S.jsx)(I.Z,{})}),P&&(0,S.jsx)(Z.Z,{max:12,children:P.map((function(e,r){return(0,S.jsx)(f.Z,{src:e,alt:"User ".concat(r+1),sx:{width:24,height:24}},r)}))})]}),(0,S.jsx)(m.Z,{variant:"contained",onClick:function(){window.location.href="/book/".concat(n)},children:"View Details"}),(0,S.jsx)(v.Z,{open:W,onClose:function(){q(!1)},children:(0,S.jsx)(b.Z,{children:(0,S.jsxs)(h.Z,{sx:{p:3},children:[(0,S.jsx)(s.Z,{variant:"h5",mb:2,children:g}),(0,S.jsxs)(s.Z,{variant:"body1",mb:2,children:["Author: ",j]}),(0,S.jsx)("img",{src:d,alt:g,style:{width:"50%",height:"50%"}}),(0,S.jsxs)(s.Z,{variant:"body1",mb:2,children:["Likes: 5"," "]}),(0,S.jsxs)(s.Z,{variant:"body1",mb:2,children:["Comments: ",c]}),(0,S.jsxs)(s.Z,{variant:"body1",mb:2,children:["Published Date: ",y]}),(0,S.jsxs)(s.Z,{variant:"body1",children:["Genre: ",w]}),(0,S.jsxs)(s.Z,{variant:"body1",children:["ISBN: ",k]}),(0,S.jsxs)(s.Z,{variant:"body1",children:["Description: ",C]}),P&&(0,S.jsx)(l.Z,{direction:"row",spacing:1,mt:2,children:P.map((function(e,r){return(0,S.jsx)(f.Z,{src:e,alt:"User ".concat(r+1)},r)}))})]})})})]})]})}var N=t(1889),R=["products"];function A(e){var r=e.products,t=(0,y.Z)(e,R);return(0,S.jsx)(N.ZP,(0,j.Z)((0,j.Z)({container:!0,spacing:3},t),{},{children:r.map((function(e){return(0,S.jsx)(N.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,S.jsx)(z,{product:e})},e._id)}))}))}var L=t(1976),O=t(3786),W=t(9365),q=t(8910),E=[{value:"featured",label:"Featured"},{value:"newest",label:"Newest"},{value:"priceDesc",label:"Price: High-Low"},{value:"priceAsc",label:"Price: Low-High"}];function H(){var e=(0,a.useState)(null),r=(0,o.Z)(e,2),t=r[0],n=r[1],i=function(){n(null)};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(m.Z,{color:"inherit",disableRipple:!0,onClick:function(e){n(e.currentTarget)},endIcon:t?(0,S.jsx)(W.Z,{}):(0,S.jsx)(q.Z,{}),children:["Sort By:\xa0",(0,S.jsx)(s.Z,{component:"span",variant:"subtitle2",sx:{color:"text.secondary"},children:"Newest"})]}),(0,S.jsx)(L.Z,{keepMounted:!0,anchorEl:t,open:Boolean(t),onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:E.map((function(e){return(0,S.jsx)(O.Z,{selected:"newest"===e.value,onClick:i,sx:{typography:"body2"},children:e.label},e.value)}))})]})}t(9785);var G=t(3026),_=t(3536);function U(){var e=(0,a.useState)([]),r=(0,o.Z)(e,2),t=r[0],u=r[1],h=(0,_._)().setTitle,p=(0,a.useState)(!0),x=(0,o.Z)(p,2),Z=x[0],f=x[1];(0,a.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.Z.post("/users/books");case 3:r=e.sent,u(r.data),console.log(r.data),f(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error: ",e.t0),f(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var m=(0,a.useState)(!1),v=(0,o.Z)(m,2);v[0],v[1];return h("Books"),(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(c.Z,{children:[(0,S.jsx)(s.Z,{variant:"h4",sx:{mb:5},children:"Books"}),(0,S.jsx)(l.Z,{direction:"row",flexWrap:"wrap-reverse",alignItems:"center",justifyContent:"flex-end",sx:{mb:5},children:(0,S.jsx)(l.Z,{direction:"row",spacing:1,flexShrink:0,sx:{my:1},children:(0,S.jsx)(H,{})})}),Z?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.Z,{variant:"rectangular",height:300,sx:{mb:2}}),(0,S.jsx)(d.Z,{variant:"rectangular",height:300,sx:{mb:2}}),(0,S.jsx)(d.Z,{variant:"rectangular",height:300,sx:{mb:2}})]}):(0,S.jsx)(A,{products:t})]})})}},9785:function(e,r,t){t.d(r,{Z:function(){return Z}});var n=t(1413),i=t(5987),o=t(2791),a=t(4554),c=t(9953),s=t(6934),l=t(2065),d=(0,s.ZP)("div")((function(){return{flexGrow:1,height:"100%",overflow:"hidden"}})),u=(0,s.ZP)(c.Z)((function(e){var r=e.theme;return{maxHeight:"100%","& .simplebar-scrollbar":{"&:before":{backgroundColor:(0,l.Fq)(r.palette.grey[600],.48)},"&.simplebar-visible:before":{opacity:1}},"& .simplebar-track.simplebar-vertical":{width:10},"& .simplebar-track.simplebar-horizontal .simplebar-scrollbar":{height:6},"& .simplebar-mask":{zIndex:"inherit"}}})),h=t(184),p=["children","sx"];function x(e){var r=e.children,t=e.sx,o=(0,i.Z)(e,p),c="undefined"===typeof navigator?"SSR":navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)?(0,h.jsx)(a.Z,(0,n.Z)((0,n.Z)({sx:(0,n.Z)({overflowX:"auto"},t)},o),{},{children:r})):(0,h.jsx)(d,{children:(0,h.jsx)(u,(0,n.Z)((0,n.Z)({timeout:500,clickOnTrack:!1,sx:t},o),{},{children:r}))})}var Z=(0,o.memo)(x)},5042:function(e,r,t){t.d(r,{v1:function(){return o}});var n=t(6098),i=t.n(n);function o(e){return a(e?i()(e).format("0.00a"):"",".00")}function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".00";return e.includes(r)?e.replace(r,""):e}},2654:function(e,r,t){t.d(r,{DY:function(){return c},Mu:function(){return o},zM:function(){return a}});var n=t(1482),i=t(5939);function o(e,r){var t=r||"dd MMM yyyy";return e?(0,n.Z)(new Date(e),t):""}function a(e,r){var t=r||"dd MMM yyyy p";return e?(0,n.Z)(new Date(e),t):""}function c(e){return e?(0,i.Z)(new Date(e),{addSuffix:!0}):""}}}]);
//# sourceMappingURL=869.128fbf05.chunk.js.map