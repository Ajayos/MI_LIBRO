"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[208],{208:function(e,t,r){r.r(t),r.d(t,{default:function(){return P}});var n=r(4165),i=r(5861),a=r(4942),o=r(1413),l=r(9439),s=r(2791),c=(r(6907),r(3967)),u=r(4554),d=r(9164),h=r(6314),p=r(7047),f=r(890),g=r(1889),m=r(7621),v=r(9504),x=r(220),Z=r(4721),b=r(2363),j=r(6151),y=r(9585),S=r(8550),w=r(3575),k=r(3536),D=r(184);function P(){(0,c.Z)();var e=(0,k._)().setTitle,t=(0,w.a)().AddNewBook,r=(0,s.useState)(!0),P=(0,l.Z)(r,2),B=P[0],W=P[1],C=(0,s.useState)(),R=(0,l.Z)(C,2),T=R[0],A=R[1],M=(0,s.useState)(null),N=(0,l.Z)(M,2),F=N[0],q=N[1],I=(0,s.useState)(!1),z=(0,l.Z)(I,2),O=z[0],E=z[1],G=(0,s.useState)({pic:null,title:"",author:"",publicationDate:"",genre:"",isbn:"",description:""}),L=(0,l.Z)(G,2),U=L[0],J=L[1],$=(0,s.useState)({}),_=(0,l.Z)($,2),H=_[0],V=_[1],K=(0,s.useState)(!1),Q=(0,l.Z)(K,2),X=(Q[0],Q[1]);(0,s.useEffect)((function(){var e=setTimeout((function(){W(!1)}),1e3);return function(){return clearTimeout(e)}}),[]);var Y=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!te){e.next=10;break}return console.log("Submitting form:"),e.next=5,t(JSON.stringify(U));case 5:return J({pic:null,title:"",author:"",publicationDate:"",genre:"",isbn:"",description:""}),V({}),e.abrupt("return",!0);case 10:return console.log("Form contains errors. Please fill in all fields."),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){var t=e.target,r=t.name,n=t.value;J((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,a.Z)({},r,n))}))},te=function(){var e=!0,t={};return""===U.title.trim()&&(e=!1,t.title="Title is required"),""===U.author.trim()&&(e=!1,t.author="Author is required"),""===U.publicationDate.trim()&&(e=!1,t.publicationDate="Publication date is required"),""===U.genre.trim()&&(e=!1,t.genre="Genre is required"),""===U.isbn.trim()&&(e=!1,t.isbn="ISBN is required"),""===U.description.trim()&&(e=!1,t.description="Description is required"),V(t),X(0===Object.keys(t).length),e};return e("Add Book"),(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(u.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,D.jsx)(d.Z,{maxWidth:"lg",children:(0,D.jsxs)(h.Z,{spacing:3,children:[B?(0,D.jsx)(p.Z,{variant:"text",width:200,height:40}):(0,D.jsx)(f.Z,{variant:"h4",children:"Account"}),(0,D.jsx)("br",{}),(0,D.jsxs)(g.ZP,{container:!0,spacing:5,children:[(0,D.jsx)(g.ZP,{item:!0,xs:12,md:6,lg:4,children:B?(0,D.jsx)(p.Z,{variant:"rectangular",height:400}):(0,D.jsxs)(m.Z,{children:[(0,D.jsx)(v.Z,{children:(0,D.jsx)(u.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:(0,D.jsx)(x.Z,{src:T||"https://www.pngitem.com/pimgs/m/146-1468479_my-profile-icon-blank-profile-picture-circle-hd.png",sx:{height:80,mb:2,width:80}})})}),(0,D.jsx)(Z.Z,{}),(0,D.jsxs)(b.Z,{children:[!F&&(0,D.jsxs)(j.Z,{fullWidth:!0,variant:"text",component:"label",disabled:O,children:[O?"Saving...":"Update Picture",(0,D.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){var t=e.target.files[0],r=new FileReader;r.onloadend=function(){A(r.result),q(t)},t&&r.readAsDataURL(t)}})]}),F&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(j.Z,{fullWidth:!0,variant:"text",onClick:function(){if(F){E(!0);var e=new FileReader;e.onloadend=function(){setTimeout((function(){E(!1),A(e.result),q(null),J((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,a.Z)({},"pic",e.result))}))}),1e3)},e.readAsDataURL(F)}},disabled:O,children:"Save"}),(0,D.jsx)(j.Z,{fullWidth:!0,variant:"text",onClick:function(){q(null)},disabled:O,children:"Cancel"})]})]})]})}),(0,D.jsx)(g.ZP,{item:!0,xs:12,md:6,lg:8,children:B?(0,D.jsx)(p.Z,{variant:"rectangular",height:400}):(0,D.jsx)("form",{autoComplete:"off",noValidate:!0,onSubmit:Y,children:(0,D.jsxs)(m.Z,{children:[(0,D.jsx)(y.Z,{defaultExpanded:!0,subheader:"Enter book details",title:"Book Data Inserter"}),(0,D.jsx)("br",{}),(0,D.jsx)(v.Z,{sx:{pt:0},children:(0,D.jsx)(u.Z,{children:(0,D.jsxs)(g.ZP,{container:!0,spacing:3,children:[(0,D.jsxs)(g.ZP,{item:!0,xs:12,children:[(0,D.jsx)(f.Z,{children:"Title"}),(0,D.jsx)(S.Z,{fullWidth:!0,name:"title",value:U.title,onChange:ee,error:!!H.title,helperText:H.title})]}),(0,D.jsxs)(g.ZP,{item:!0,xs:12,children:[(0,D.jsx)(f.Z,{children:"Author"}),(0,D.jsx)(S.Z,{fullWidth:!0,name:"author",value:U.author,onChange:ee,error:!!H.author,helperText:H.author})]}),(0,D.jsxs)(g.ZP,{item:!0,xs:12,children:[(0,D.jsx)(f.Z,{children:H.publicationDate?H.publicationDate:"Publication Date"}),(0,D.jsx)(S.Z,{fullWidth:!0,type:"date",name:"publicationDate",value:U.publicationDate,onChange:ee,error:!!H.publicationDate,helperText:H.publicationDate})]}),(0,D.jsxs)(g.ZP,{item:!0,xs:12,children:[(0,D.jsx)(f.Z,{children:H.genre?H.genre:"Genre"}),(0,D.jsx)(S.Z,{fullWidth:!0,name:"genre",value:U.genre,onChange:ee,error:!!H.genre,helperText:H.genre})]}),(0,D.jsxs)(g.ZP,{item:!0,xs:12,children:[(0,D.jsx)(f.Z,{children:H.isbn?H.isbn:"ISBN"}),(0,D.jsx)(S.Z,{fullWidth:!0,name:"isbn",value:U.isbn,onChange:ee,onBlur:function(){return!0},error:!!H.isbn,helperText:H.isbn})]}),(0,D.jsxs)(g.ZP,{item:!0,xs:12,children:[(0,D.jsx)(f.Z,{children:H.description?H.description:"Description"}),(0,D.jsx)(S.Z,{fullWidth:!0,name:"description",value:U.description,onChange:ee,error:!!H.description,helperText:H.description})]})]})})}),(0,D.jsx)(Z.Z,{}),(0,D.jsx)(b.Z,{sx:{justifyContent:"flex-end"},children:(0,D.jsx)(j.Z,{variant:"contained",type:"submit",children:"Save Book"})})]})})})]})]})})})})}},220:function(e,t,r){r.d(t,{Z:function(){return Z}});var n=r(9439),i=r(3366),a=r(7462),o=r(2791),l=r(8182),s=r(4419),c=r(6934),u=r(1402),d=r(9201),h=r(184),p=(0,d.Z)((0,h.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),f=r(2800),g=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],m=(0,c.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,r=e.ownerState;return(0,a.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===r.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===r.variant&&{borderRadius:0},r.colorDefault&&(0,a.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),v=(0,c.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),x=(0,c.ZP)(p,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var Z=o.forwardRef((function(e,t){var r=(0,u.Z)({props:e,name:"MuiAvatar"}),c=r.alt,d=r.children,p=r.className,Z=r.component,b=void 0===Z?"div":Z,j=r.imgProps,y=r.sizes,S=r.src,w=r.srcSet,k=r.variant,D=void 0===k?"circular":k,P=(0,i.Z)(r,g),B=null,W=function(e){var t=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,l=o.useState(!1),s=(0,n.Z)(l,2),c=s[0],u=s[1];return o.useEffect((function(){if(i||a){u(!1);var e=!0,n=new Image;return n.onload=function(){e&&u("loaded")},n.onerror=function(){e&&u("error")},n.crossOrigin=t,n.referrerPolicy=r,n.src=i,a&&(n.srcset=a),function(){e=!1}}}),[t,r,i,a]),c}((0,a.Z)({},j,{src:S,srcSet:w})),C=S||w,R=C&&"error"!==W,T=(0,a.Z)({},r,{colorDefault:!R,component:b,variant:D}),A=function(e){var t=e.classes,r={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,s.Z)(r,f.$,t)}(T);return B=R?(0,h.jsx)(v,(0,a.Z)({alt:c,src:S,srcSet:w,sizes:y,ownerState:T,className:A.img},j)):null!=d?d:C&&c?c[0]:(0,h.jsx)(x,{ownerState:T,className:A.fallback}),(0,h.jsx)(m,(0,a.Z)({as:b,ownerState:T,className:(0,l.Z)(A.root,p),ref:t},P,{children:B}))}))},2800:function(e,t,r){r.d(t,{$:function(){return a}});var n=r(5878),i=r(1217);function a(e){return(0,i.Z)("MuiAvatar",e)}var o=(0,n.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);t.Z=o},890:function(e,t,r){r.d(t,{Z:function(){return b}});var n=r(3366),i=r(7462),a=r(2791),o=r(8182),l=r(8519),s=r(4419),c=r(6934),u=r(1402),d=r(4036),h=r(5878),p=r(1217);function f(e){return(0,p.Z)("MuiTypography",e)}(0,h.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var g=r(184),m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t["align".concat((0,d.Z)(r.align))],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({margin:0},r.variant&&t.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})})),x={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Z={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},b=a.forwardRef((function(e,t){var r=(0,u.Z)({props:e,name:"MuiTypography"}),a=function(e){return Z[e]||e}(r.color),c=(0,l.Z)((0,i.Z)({},r,{color:a})),h=c.align,p=void 0===h?"inherit":h,b=c.className,j=c.component,y=c.gutterBottom,S=void 0!==y&&y,w=c.noWrap,k=void 0!==w&&w,D=c.paragraph,P=void 0!==D&&D,B=c.variant,W=void 0===B?"body1":B,C=c.variantMapping,R=void 0===C?x:C,T=(0,n.Z)(c,m),A=(0,i.Z)({},c,{align:p,color:a,className:b,component:j,gutterBottom:S,noWrap:k,paragraph:P,variant:W,variantMapping:R}),M=j||(P?"p":R[W]||x[W])||"span",N=function(e){var t=e.align,r=e.gutterBottom,n=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes,l={root:["root",a,"inherit"!==e.align&&"align".concat((0,d.Z)(t)),r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return(0,s.Z)(l,f,o)}(A);return(0,g.jsx)(v,(0,i.Z)({as:M,ref:t,ownerState:A,className:(0,o.Z)(N.root,b)},T))}))}}]);
//# sourceMappingURL=208.ae5cdb6a.chunk.js.map