"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[894],{8894:function(e,r,t){t.r(r),t.d(r,{default:function(){return N}});var n=t(4942),a=t(1413),o=t(4165),i=t(5861),s=t(9439),c=t(2791),l=(t(6907),t(3967)),u=t(8870),d=t(266),p=t(6314),h=t(7047),f=t(890),v=t(1889),m=t(7621),g=t(9504),Z=t(220),x=t(4721),b=t(2363),y=t(6151),j=t(9585),S=t(8550),w=t(3575),k=t(7689),C=t(3026),P=t(3536),R=t(184);function N(){var e=(0,k.UO)().id,r=((0,l.Z)(),(0,P._)().setTitle),t=(0,w.a)().EditBook,N=(0,c.useState)(!0),M=(0,s.Z)(N,2),B=M[0],T=M[1],A=(0,c.useState)(),D=(0,s.Z)(A,2),W=D[0],I=D[1],F=(0,c.useState)(null),q=(0,s.Z)(F,2),E=q[0],H=q[1],O=(0,c.useState)(!1),G=(0,s.Z)(O,2),z=G[0],L=G[1],$=(0,c.useState)({pic:null,title:"",author:"",publicationDate:"",genre:"",ISBN:"",description:""}),U=(0,s.Z)($,2),J=U[0],_=U[1],V=(0,c.useState)({}),K=(0,s.Z)(V,2),Q=K[0],X=K[1],Y=(0,c.useState)(!1),ee=(0,s.Z)(Y,2),re=(ee[0],ee[1]);(0,c.useEffect)((function(){var r=function(){var r=(0,i.Z)((0,o.Z)().mark((function r(){var t;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,C.Z.get("/admins/books/".concat(e));case 3:t=r.sent,_(t.data),I(t.data.pic),T(!1),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.error(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}();e&&r()}),[e]);var te=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!ae){e.next=10;break}return console.log(J),e.next=5,t(JSON.stringify(J));case 5:return window.location.href="/Books",X({}),e.abrupt("return",!0);case 10:return console.log("Form contains errors. Please fill in all fields."),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),ne=function(e){var r=e.target,t=r.name,o=r.value;_((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},t,o))}))},ae=function(){var e=!0,r={};return""===J.title.trim()&&(e=!1,r.title="Title is required"),""===J.author.trim()&&(e=!1,r.author="Author is required"),""===J.publicationDate.trim()&&(e=!1,r.publicationDate="Publication date is required"),""===J.genre.trim()&&(e=!1,r.genre="Genre is required"),""===J.ISBN.trim()&&(e=!1,r.isbn="ISBN is required"),""===J.description.trim()&&(e=!1,r.description="Description is required"),X(r),re(0===Object.keys(r).length),e};return r("Edit Book"),(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(u.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,R.jsx)(d.Z,{maxWidth:"lg",children:(0,R.jsxs)(p.Z,{spacing:3,children:[B?(0,R.jsx)(h.Z,{variant:"text",width:200,height:40}):(0,R.jsx)(f.Z,{variant:"h4",children:"Account"}),(0,R.jsx)("br",{}),(0,R.jsxs)(v.ZP,{container:!0,spacing:5,children:[(0,R.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:4,children:B?(0,R.jsx)(h.Z,{variant:"rectangular",height:400}):(0,R.jsxs)(m.Z,{children:[(0,R.jsx)(g.Z,{children:(0,R.jsx)(u.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:(0,R.jsx)(Z.Z,{src:W||"https://www.pngitem.com/pimgs/m/146-1468479_my-profile-icon-blank-profile-picture-circle-hd.png",sx:{height:80,mb:2,width:80}})})}),(0,R.jsx)(x.Z,{}),(0,R.jsxs)(b.Z,{children:[!E&&(0,R.jsxs)(y.Z,{fullWidth:!0,variant:"text",component:"label",disabled:z,children:[z?"Saving...":"Update Picture",(0,R.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){var r=e.target.files[0],t=new FileReader;t.onloadend=function(){I(t.result),H(r)},r&&t.readAsDataURL(r)}})]}),E&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(y.Z,{fullWidth:!0,variant:"text",onClick:function(){if(E){L(!0);var e=new FileReader;e.onloadend=function(){setTimeout((function(){L(!1),I(e.result),H(null),_((function(r){return(0,a.Z)((0,a.Z)({},r),{},(0,n.Z)({},"pic",e.result))}))}),1e3)},e.readAsDataURL(E)}},disabled:z,children:"Save"}),(0,R.jsx)(y.Z,{fullWidth:!0,variant:"text",onClick:function(){H(null)},disabled:z,children:"Cancel"})]})]})]})}),(0,R.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:8,children:B?(0,R.jsx)(h.Z,{variant:"rectangular",height:400}):(0,R.jsx)("form",{autoComplete:"off",noValidate:!0,onSubmit:te,children:(0,R.jsxs)(m.Z,{children:[(0,R.jsx)(j.Z,{defaultExpanded:!0,subheader:"Enter book details",title:"Book Data Inserter"}),(0,R.jsx)("br",{}),(0,R.jsx)(g.Z,{sx:{pt:0},children:(0,R.jsx)(u.Z,{children:(0,R.jsxs)(v.ZP,{container:!0,spacing:3,children:[(0,R.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,R.jsx)(f.Z,{children:"Title"}),(0,R.jsx)(S.Z,{fullWidth:!0,name:"title",value:J.title,onChange:ne,error:!!Q.title,helperText:Q.title})]}),(0,R.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,R.jsx)(f.Z,{children:"Author"}),(0,R.jsx)(S.Z,{fullWidth:!0,name:"author",value:J.author,onChange:ne,error:!!Q.author,helperText:Q.author})]}),(0,R.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,R.jsx)(f.Z,{children:Q.genre?Q.genre:"Genre"}),(0,R.jsx)(S.Z,{fullWidth:!0,name:"genre",value:J.genre,onChange:ne,error:!!Q.genre,helperText:Q.genre})]}),(0,R.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,R.jsx)(f.Z,{children:Q.isbn?Q.isbn:"ISBN"}),(0,R.jsx)(S.Z,{fullWidth:!0,name:"ISBN",value:J.ISBN,onChange:ne,onBlur:function(){return!0},error:!!Q.isbn,helperText:Q.isbn})]}),(0,R.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,R.jsx)(f.Z,{children:Q.description?Q.description:"Description"}),(0,R.jsx)(S.Z,{fullWidth:!0,name:"description",value:J.description,onChange:ne,error:!!Q.description,helperText:Q.description})]})]})})}),(0,R.jsx)(x.Z,{}),(0,R.jsx)(b.Z,{sx:{justifyContent:"flex-end"},children:(0,R.jsx)(y.Z,{variant:"contained",type:"submit",children:"Save Book"})})]})})})]})]})})})})}},220:function(e,r,t){t.d(r,{Z:function(){return x}});var n=t(9439),a=t(3366),o=t(7462),i=t(2791),s=t(8182),c=t(4419),l=t(6934),u=t(1402),d=t(9201),p=t(184),h=(0,d.Z)((0,p.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),f=t(2800),v=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],m=(0,l.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,r[t.variant],t.colorDefault&&r.colorDefault]}})((function(e){var r=e.theme,t=e.ownerState;return(0,o.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(r.vars||r).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,o.Z)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[600]}))})),g=(0,l.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,r){return r.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Z=(0,l.ZP)(h,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,r){return r.fallback}})({width:"75%",height:"75%"});var x=i.forwardRef((function(e,r){var t=(0,u.Z)({props:e,name:"MuiAvatar"}),l=t.alt,d=t.children,h=t.className,x=t.component,b=void 0===x?"div":x,y=t.imgProps,j=t.sizes,S=t.src,w=t.srcSet,k=t.variant,C=void 0===k?"circular":k,P=(0,a.Z)(t,v),R=null,N=function(e){var r=e.crossOrigin,t=e.referrerPolicy,a=e.src,o=e.srcSet,s=i.useState(!1),c=(0,n.Z)(s,2),l=c[0],u=c[1];return i.useEffect((function(){if(a||o){u(!1);var e=!0,n=new Image;return n.onload=function(){e&&u("loaded")},n.onerror=function(){e&&u("error")},n.crossOrigin=r,n.referrerPolicy=t,n.src=a,o&&(n.srcset=o),function(){e=!1}}}),[r,t,a,o]),l}((0,o.Z)({},y,{src:S,srcSet:w})),M=S||w,B=M&&"error"!==N,T=(0,o.Z)({},t,{colorDefault:!B,component:b,variant:C}),A=function(e){var r=e.classes,t={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,c.Z)(t,f.$,r)}(T);return R=B?(0,p.jsx)(g,(0,o.Z)({alt:l,src:S,srcSet:w,sizes:j,ownerState:T,className:A.img},y)):null!=d?d:M&&l?l[0]:(0,p.jsx)(Z,{ownerState:T,className:A.fallback}),(0,p.jsx)(m,(0,o.Z)({as:b,ownerState:T,className:(0,s.Z)(A.root,h),ref:r},P,{children:R}))}))},2800:function(e,r,t){t.d(r,{$:function(){return o}});var n=t(5878),a=t(1217);function o(e){return(0,a.Z)("MuiAvatar",e)}var i=(0,n.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);r.Z=i},2363:function(e,r,t){t.d(r,{Z:function(){return m}});var n=t(3366),a=t(7462),o=t(2791),i=t(8182),s=t(4419),c=t(6934),l=t(1402),u=t(5878),d=t(1217);function p(e){return(0,d.Z)("MuiCardActions",e)}(0,u.Z)("MuiCardActions",["root","spacing"]);var h=t(184),f=["disableSpacing","className"],v=(0,c.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,!t.disableSpacing&&r.spacing]}})((function(e){var r=e.ownerState;return(0,a.Z)({display:"flex",alignItems:"center",padding:8},!r.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),m=o.forwardRef((function(e,r){var t=(0,l.Z)({props:e,name:"MuiCardActions"}),o=t.disableSpacing,c=void 0!==o&&o,u=t.className,d=(0,n.Z)(t,f),m=(0,a.Z)({},t,{disableSpacing:c}),g=function(e){var r=e.classes,t={root:["root",!e.disableSpacing&&"spacing"]};return(0,s.Z)(t,p,r)}(m);return(0,h.jsx)(v,(0,a.Z)({className:(0,i.Z)(g.root,u),ownerState:m,ref:r},d))}))},9504:function(e,r,t){t.d(r,{Z:function(){return m}});var n=t(7462),a=t(3366),o=t(2791),i=t(8182),s=t(4419),c=t(6934),l=t(1402),u=t(5878),d=t(1217);function p(e){return(0,d.Z)("MuiCardContent",e)}(0,u.Z)("MuiCardContent",["root"]);var h=t(184),f=["className","component"],v=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,r){return r.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),m=o.forwardRef((function(e,r){var t=(0,l.Z)({props:e,name:"MuiCardContent"}),o=t.className,c=t.component,u=void 0===c?"div":c,d=(0,a.Z)(t,f),m=(0,n.Z)({},t,{component:u}),g=function(e){var r=e.classes;return(0,s.Z)({root:["root"]},p,r)}(m);return(0,h.jsx)(v,(0,n.Z)({as:u,className:(0,i.Z)(g.root,o),ownerState:m,ref:r},d))}))},9585:function(e,r,t){t.d(r,{Z:function(){return j}});var n=t(4942),a=t(3366),o=t(7462),i=t(2791),s=t(8182),c=t(4419),l=t(890),u=t(1402),d=t(6934),p=t(5878),h=t(1217);function f(e){return(0,h.Z)("MuiCardHeader",e)}var v=(0,p.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),m=t(184),g=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],Z=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,r){var t;return(0,o.Z)((t={},(0,n.Z)(t,"& .".concat(v.title),r.title),(0,n.Z)(t,"& .".concat(v.subheader),r.subheader),t),r.root)}})({display:"flex",alignItems:"center",padding:16}),x=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,r){return r.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),b=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,r){return r.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),y=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,r){return r.content}})({flex:"1 1 auto"}),j=i.forwardRef((function(e,r){var t=(0,u.Z)({props:e,name:"MuiCardHeader"}),n=t.action,i=t.avatar,d=t.className,p=t.component,h=void 0===p?"div":p,v=t.disableTypography,j=void 0!==v&&v,S=t.subheader,w=t.subheaderTypographyProps,k=t.title,C=t.titleTypographyProps,P=(0,a.Z)(t,g),R=(0,o.Z)({},t,{component:h,disableTypography:j}),N=function(e){var r=e.classes;return(0,c.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},f,r)}(R),M=k;null==M||M.type===l.Z||j||(M=(0,m.jsx)(l.Z,(0,o.Z)({variant:i?"body2":"h5",className:N.title,component:"span",display:"block"},C,{children:M})));var B=S;return null==B||B.type===l.Z||j||(B=(0,m.jsx)(l.Z,(0,o.Z)({variant:i?"body2":"body1",className:N.subheader,color:"text.secondary",component:"span",display:"block"},w,{children:B}))),(0,m.jsxs)(Z,(0,o.Z)({className:(0,s.Z)(N.root,d),as:h,ref:r,ownerState:R},P,{children:[i&&(0,m.jsx)(x,{className:N.avatar,ownerState:R,children:i}),(0,m.jsxs)(y,{className:N.content,ownerState:R,children:[M,B]}),n&&(0,m.jsx)(b,{className:N.action,ownerState:R,children:n})]}))}))},6314:function(e,r,t){t.d(r,{Z:function(){return P}});var n=t(4942),a=t(3366),o=t(7462),i=t(2791),s=t(8182),c=t(2466),l=t(4419),u=t(1217),d=t(3457),p=t(6083),h=t(8519),f=t(5080),v=t(1184),m=t(5682),g=t(184),Z=["component","direction","spacing","divider","children","className","useFlexGap"],x=(0,f.Z)(),b=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,r){return r.root}});function y(e){return(0,p.Z)({props:e,name:"MuiStack",defaultTheme:x})}function j(e,r){var t=i.Children.toArray(e).filter(Boolean);return t.reduce((function(e,n,a){return e.push(n),a<t.length-1&&e.push(i.cloneElement(r,{key:"separator-".concat(a)})),e}),[])}var S=function(e){var r=e.ownerState,t=e.theme,a=(0,o.Z)({display:"flex",flexDirection:"column"},(0,v.k9)({theme:t},(0,v.P$)({values:r.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(r.spacing){var i=(0,m.hB)(t),s=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof r.spacing&&null!=r.spacing[t]||"object"===typeof r.direction&&null!=r.direction[t])&&(e[t]=!0),e}),{}),l=(0,v.P$)({values:r.direction,base:s}),u=(0,v.P$)({values:r.spacing,base:s});"object"===typeof l&&Object.keys(l).forEach((function(e,r,t){if(!l[e]){var n=r>0?l[t[r-1]]:"column";l[e]=n}}));a=(0,c.Z)(a,(0,v.k9)({theme:t},u,(function(e,t){return r.useFlexGap?{gap:(0,m.NA)(i,e)}:{"& > :not(style) + :not(style)":(0,n.Z)({margin:0},"margin".concat((a=t?l[t]:r.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[a])),(0,m.NA)(i,e))};var a})))}return a=(0,v.dt)(t.breakpoints,a)};var w=t(6934),k=t(1402),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.createStyledComponent,t=void 0===r?b:r,n=e.useThemeProps,c=void 0===n?y:n,d=e.componentName,p=void 0===d?"MuiStack":d,f=t(S),v=i.forwardRef((function(e,r){var t=c(e),n=(0,h.Z)(t),i=n.component,d=void 0===i?"div":i,v=n.direction,m=void 0===v?"column":v,x=n.spacing,b=void 0===x?0:x,y=n.divider,S=n.children,w=n.className,k=n.useFlexGap,C=void 0!==k&&k,P=(0,a.Z)(n,Z),R={direction:m,spacing:b,useFlexGap:C},N=(0,l.Z)({root:["root"]},(function(e){return(0,u.Z)(p,e)}),{});return(0,g.jsx)(f,(0,o.Z)({as:d,ownerState:R,ref:r,className:(0,s.Z)(N.root,w)},P,{children:y?j(S,y):S}))}));return v}({createStyledComponent:(0,w.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,r){return r.root}}),useThemeProps:function(e){return(0,k.Z)({props:e,name:"MuiStack"})}}),P=C},890:function(e,r,t){t.d(r,{Z:function(){return b}});var n=t(3366),a=t(7462),o=t(2791),i=t(8182),s=t(8519),c=t(4419),l=t(6934),u=t(1402),d=t(4036),p=t(5878),h=t(1217);function f(e){return(0,h.Z)("MuiTypography",e)}(0,p.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var v=t(184),m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=(0,l.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,t.variant&&r[t.variant],"inherit"!==t.align&&r["align".concat((0,d.Z)(t.align))],t.noWrap&&r.noWrap,t.gutterBottom&&r.gutterBottom,t.paragraph&&r.paragraph]}})((function(e){var r=e.theme,t=e.ownerState;return(0,a.Z)({margin:0},t.variant&&r.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})})),Z={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},x={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},b=o.forwardRef((function(e,r){var t=(0,u.Z)({props:e,name:"MuiTypography"}),o=function(e){return x[e]||e}(t.color),l=(0,s.Z)((0,a.Z)({},t,{color:o})),p=l.align,h=void 0===p?"inherit":p,b=l.className,y=l.component,j=l.gutterBottom,S=void 0!==j&&j,w=l.noWrap,k=void 0!==w&&w,C=l.paragraph,P=void 0!==C&&C,R=l.variant,N=void 0===R?"body1":R,M=l.variantMapping,B=void 0===M?Z:M,T=(0,n.Z)(l,m),A=(0,a.Z)({},l,{align:h,color:o,className:b,component:y,gutterBottom:S,noWrap:k,paragraph:P,variant:N,variantMapping:B}),D=y||(P?"p":B[N]||Z[N])||"span",W=function(e){var r=e.align,t=e.gutterBottom,n=e.noWrap,a=e.paragraph,o=e.variant,i=e.classes,s={root:["root",o,"inherit"!==e.align&&"align".concat((0,d.Z)(r)),t&&"gutterBottom",n&&"noWrap",a&&"paragraph"]};return(0,c.Z)(s,f,i)}(A);return(0,v.jsx)(g,(0,a.Z)({as:D,ref:r,ownerState:A,className:(0,i.Z)(W.root,b)},T))}))}}]);
//# sourceMappingURL=894.9e989938.chunk.js.map