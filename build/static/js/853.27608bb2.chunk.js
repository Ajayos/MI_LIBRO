"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[853],{4853:function(e,n,r){r.r(n),r.d(n,{default:function(){return H}});var o=r(4942),t=r(6907),i=r(6934),a=r(4554),s=r(220),l=r(890),c=r(9164),d=r(4721),u=r(6151),m=r(7394),x=r(3861),p=r(6105),h=r(3732),f=r(4165),Z=r(5861),v=r(1413),g=r(9439),j=r(2791),w=r(7689),b=r(6314),y=r(8096),k=r(4925),C=r(7196),S=r(3466),D=r(3400),F=r(4454),I=r(533),L=r(9709),B=r(3710),A=r(9569),M=r(8518),R=r(3575),W=r(184);function P(){(0,w.s0)();var e=(0,M.Ds)().enqueueSnackbar,n=(0,R.a)(),r=n.isAuthenticated,t=(n.user,n.AdminLogin),i=(n.IsPermit,(0,j.useState)(!1)),a=(0,g.Z)(i,2),s=a[0],c=a[1],d=(0,j.useState)({email:"",password:""}),u=(0,g.Z)(d,2),m=u[0],x=u[1],p=(0,j.useState)({}),h=(0,g.Z)(p,2),P=h[0],V=h[1],q=(0,j.useState)(!1),z=(0,g.Z)(q,2),H=z[0],N=z[1];(0,j.useEffect)((function(){r&&(window.location.href="/Home")}),[r]);var O=function(e){x((0,v.Z)((0,v.Z)({},m),{},(0,o.Z)({},e.target.name,e.target.value)))},T=function(){var e={},n=!0;return m.email||(n=!1,e.email="Email/Username is required"),m.password||(n=!1,e.password="Password is required"),V(e),n},E=function(){var n=(0,Z.Z)((0,f.Z)().mark((function n(r){var o,i,a;return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),T())try{N(!0),o=t(m.email,m.password),i=o.message,a=o.status,console.log(i),200===a?(e(i,{variant:"success"}),window.location.href="/home"):(e(i,{variant:"error"}),V({email:i,password:i})),N(!1)}catch(s){N(!1),V({email:"Invalid email/username or password"})}case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(b.Z,{spacing:2,children:[(0,W.jsx)(l.Z,{variant:"body2",sx:{color:"#f80202"},children:P.email}),(0,W.jsxs)(y.Z,{children:[(0,W.jsx)(k.Z,{htmlFor:"outlined-adornment-username-login",children:"Email / Username"}),(0,W.jsx)(C.Z,{id:"outlined-adornment-username-login",type:"text",name:"email",value:m.email,onChange:O,label:"Username",error:!!P.email,helperText:P.email})]}),(0,W.jsx)(l.Z,{variant:"body2",sx:{color:"#f80202"},children:P.password}),(0,W.jsxs)(y.Z,{children:[(0,W.jsx)(k.Z,{htmlFor:"outlined-adornment-password-login",children:"Enter Password"}),(0,W.jsx)(C.Z,{id:"outlined-adornment-password-login",type:s?"text":"password",name:"password",value:m.password,onChange:O,endAdornment:(0,W.jsx)(S.Z,{position:"end",children:(0,W.jsx)(D.Z,{"aria-label":"toggle password visibility",onClick:function(){c(!s)},onMouseDown:function(e){e.preventDefault()},edge:"end",size:"large",children:s?(0,W.jsx)(B.Z,{}):(0,W.jsx)(A.Z,{})})}),label:"password",error:!!P.password,helperText:P.password})]})]}),(0,W.jsxs)(b.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,W.jsxs)(b.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,W.jsx)(F.Z,{name:"remember",label:"Remember me"}),(0,W.jsx)(l.Z,{variant:"body2",children:"Keep me logged in"})]}),(0,W.jsx)(I.Z,{href:"/forgot",variant:"subtitle2",underline:"hover",children:"Forgot password?"})]}),(0,W.jsxs)(b.Z,{children:[(0,W.jsx)("br",{}),(0,W.jsxs)(L.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:H,onClick:E,children:[H&&(0,W.jsx)(W.Fragment,{children:"Loading..."}),!H&&(0,W.jsx)(W.Fragment,{children:"LOGIN"})]})]})]})}var V=(0,i.ZP)("div")((function(e){var n=e.theme;return(0,o.Z)({},n.breakpoints.up("md"),{display:"flex"})})),q=(0,i.ZP)("div")((function(e){var n=e.theme;return{width:"100%",maxWidth:480,display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:n.customShadows.card,backgroundColor:n.palette.background.default}})),z=(0,i.ZP)("div")((function(e){return{maxWidth:480,margin:"auto",minHeight:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",padding:e.theme.spacing(12,0)}}));function H(){var e=(0,x.Z)("up","md");return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(t.ql,{children:(0,W.jsx)("title",{children:" Login | MI LIBRO "})}),(0,W.jsxs)(V,{children:[(0,W.jsxs)(a.Z,{sx:{position:"fixed",top:{xs:16,sm:24,md:40},left:{xs:16,sm:24,md:40}},children:[(0,W.jsx)(s.Z,{src:p})," ","MI LIBRO"]}),e&&(0,W.jsxs)(q,{children:[(0,W.jsx)(l.Z,{variant:"h3",sx:{px:5,mt:10,mb:5},children:"Hi, Welcome Back"}),(0,W.jsx)("img",{src:h,alt:"login"})]}),(0,W.jsx)(c.Z,{maxWidth:"sm",children:(0,W.jsxs)(z,{children:[(0,W.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:"Sign in to MI LIBRO"}),(0,W.jsx)(d.Z,{sx:{my:3}}),(0,W.jsx)(l.Z,{variant:"body2",children:(0,W.jsxs)(u.Z,{size:"medium",onClick:function(){return window.location.replace("/login")},children:[(0,W.jsx)(m.Z,{})," "," Go Back"]})}),(0,W.jsx)(d.Z,{sx:{my:3}}),(0,W.jsx)(P,{})]})})]})]})}},533:function(e,n,r){r.d(n,{Z:function(){return F}});var o=r(3433),t=r(9439),i=r(4942),a=r(3366),s=r(7462),l=r(2791),c=r(8182),d=r(4419),u=r(4036),m=r(6934),x=r(1402),p=r(3031),h=r(2071),f=r(890),Z=r(5878),v=r(1217);function g(e){return(0,v.Z)("MuiLink",e)}var j=(0,Z.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),w=r(8529),b=r(2065),y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},k=function(e){var n=e.theme,r=e.ownerState,o=function(e){return y[e]||e}(r.color),t=(0,w.DW)(n,"palette.".concat(o),!1)||r.color,i=(0,w.DW)(n,"palette.".concat(o,"Channel"));return"vars"in n&&i?"rgba(".concat(i," / 0.4)"):(0,b.Fq)(t,.4)},C=r(184),S=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],D=(0,m.ZP)(f.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,n["underline".concat((0,u.Z)(r.underline))],"button"===r.component&&n.button]}})((function(e){var n=e.theme,r=e.ownerState;return(0,s.Z)({},"none"===r.underline&&{textDecoration:"none"},"hover"===r.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===r.underline&&(0,s.Z)({textDecoration:"underline"},"inherit"!==r.color&&{textDecorationColor:k({theme:n,ownerState:r})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===r.component&&(0,i.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(j.focusVisible),{outline:"auto"}))})),F=l.forwardRef((function(e,n){var r=(0,x.Z)({props:e,name:"MuiLink"}),i=r.className,m=r.color,f=void 0===m?"primary":m,Z=r.component,v=void 0===Z?"a":Z,j=r.onBlur,w=r.onFocus,b=r.TypographyClasses,k=r.underline,F=void 0===k?"always":k,I=r.variant,L=void 0===I?"inherit":I,B=r.sx,A=(0,a.Z)(r,S),M=(0,p.Z)(),R=M.isFocusVisibleRef,W=M.onBlur,P=M.onFocus,V=M.ref,q=l.useState(!1),z=(0,t.Z)(q,2),H=z[0],N=z[1],O=(0,h.Z)(n,V),T=(0,s.Z)({},r,{color:f,component:v,focusVisible:H,underline:F,variant:L}),E=function(e){var n=e.classes,r=e.component,o=e.focusVisible,t=e.underline,i={root:["root","underline".concat((0,u.Z)(t)),"button"===r&&"button",o&&"focusVisible"]};return(0,d.Z)(i,g,n)}(T);return(0,C.jsx)(D,(0,s.Z)({color:f,className:(0,c.Z)(E.root,i),classes:b,component:v,onBlur:function(e){W(e),!1===R.current&&N(!1),j&&j(e)},onFocus:function(e){P(e),!0===R.current&&N(!0),w&&w(e)},ref:O,ownerState:T,variant:L,sx:[].concat((0,o.Z)(Object.keys(y).includes(f)?[]:[{color:f}]),(0,o.Z)(Array.isArray(B)?B:[B]))},A))}))}}]);
//# sourceMappingURL=853.27608bb2.chunk.js.map