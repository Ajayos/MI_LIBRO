"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[393],{208:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=t(4165),i=t(5861),a=t(4942),s=t(1413),l=t(9439),u=t(2791),o=(t(6907),t(3967)),c=t(4554),d=t(9164),h=t(6314),x=t(7047),f=t(890),p=t(1889),Z=t(7621),m=t(9504),j=t(220),g=t(4721),v=t(2363),b=t(6151),w=t(9585),y=t(8550),D=t(3575),S=t(3536),k=t(184);function C(){(0,o.Z)();var e=(0,S._)().setTitle,n=(0,D.a)().AddNewBook,t=(0,u.useState)(!0),C=(0,l.Z)(t,2),P=C[0],T=C[1],N=(0,u.useState)(),A=(0,l.Z)(N,2),W=A[0],M=A[1],B=(0,u.useState)(null),q=(0,l.Z)(B,2),E=q[0],F=q[1],G=(0,u.useState)(!1),_=(0,l.Z)(G,2),I=_[0],R=_[1],U=(0,u.useState)({pic:null,title:"",author:"",publicationDate:"",genre:"",isbn:"",description:""}),z=(0,l.Z)(U,2),L=z[0],O=z[1],J=(0,u.useState)({}),V=(0,l.Z)(J,2),Y=V[0],H=V[1],K=(0,u.useState)(!1),Q=(0,l.Z)(K,2),X=(Q[0],Q[1]);(0,u.useEffect)((function(){var e=setTimeout((function(){T(!1)}),1e3);return function(){return clearTimeout(e)}}),[]);var $=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!ne){e.next=10;break}return console.log("Submitting form:"),e.next=5,n(JSON.stringify(L));case 5:return O({pic:null,title:"",author:"",publicationDate:"",genre:"",isbn:"",description:""}),H({}),e.abrupt("return",!0);case 10:return console.log("Form contains errors. Please fill in all fields."),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ee=function(e){var n=e.target,t=n.name,r=n.value;O((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,a.Z)({},t,r))}))},ne=function(){var e=!0,n={};return""===L.title.trim()&&(e=!1,n.title="Title is required"),""===L.author.trim()&&(e=!1,n.author="Author is required"),""===L.publicationDate.trim()&&(e=!1,n.publicationDate="Publication date is required"),""===L.genre.trim()&&(e=!1,n.genre="Genre is required"),""===L.isbn.trim()&&(e=!1,n.isbn="ISBN is required"),""===L.description.trim()&&(e=!1,n.description="Description is required"),H(n),X(0===Object.keys(n).length),e};return e("Add Book"),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(c.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,k.jsx)(d.Z,{maxWidth:"lg",children:(0,k.jsxs)(h.Z,{spacing:3,children:[P?(0,k.jsx)(x.Z,{variant:"text",width:200,height:40}):(0,k.jsx)(f.Z,{variant:"h4",children:"Account"}),(0,k.jsx)("br",{}),(0,k.jsxs)(p.ZP,{container:!0,spacing:5,children:[(0,k.jsx)(p.ZP,{item:!0,xs:12,md:6,lg:4,children:P?(0,k.jsx)(x.Z,{variant:"rectangular",height:400}):(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(m.Z,{children:(0,k.jsx)(c.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:(0,k.jsx)(j.Z,{src:W||"https://www.pngitem.com/pimgs/m/146-1468479_my-profile-icon-blank-profile-picture-circle-hd.png",sx:{height:80,mb:2,width:80}})})}),(0,k.jsx)(g.Z,{}),(0,k.jsxs)(v.Z,{children:[!E&&(0,k.jsxs)(b.Z,{fullWidth:!0,variant:"text",component:"label",disabled:I,children:[I?"Saving...":"Update Picture",(0,k.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){var n=e.target.files[0],t=new FileReader;t.onloadend=function(){M(t.result),F(n)},n&&t.readAsDataURL(n)}})]}),E&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(b.Z,{fullWidth:!0,variant:"text",onClick:function(){if(E){R(!0);var e=new FileReader;e.onloadend=function(){setTimeout((function(){R(!1),M(e.result),F(null),O((function(n){return(0,s.Z)((0,s.Z)({},n),{},(0,a.Z)({},"pic",e.result))}))}),1e3)},e.readAsDataURL(E)}},disabled:I,children:"Save"}),(0,k.jsx)(b.Z,{fullWidth:!0,variant:"text",onClick:function(){F(null)},disabled:I,children:"Cancel"})]})]})]})}),(0,k.jsx)(p.ZP,{item:!0,xs:12,md:6,lg:8,children:P?(0,k.jsx)(x.Z,{variant:"rectangular",height:400}):(0,k.jsx)("form",{autoComplete:"off",noValidate:!0,onSubmit:$,children:(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(w.Z,{defaultExpanded:!0,subheader:"Enter book details",title:"Book Data Inserter"}),(0,k.jsx)("br",{}),(0,k.jsx)(m.Z,{sx:{pt:0},children:(0,k.jsx)(c.Z,{children:(0,k.jsxs)(p.ZP,{container:!0,spacing:3,children:[(0,k.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,k.jsx)(f.Z,{children:"Title"}),(0,k.jsx)(y.Z,{fullWidth:!0,name:"title",value:L.title,onChange:ee,error:!!Y.title,helperText:Y.title})]}),(0,k.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,k.jsx)(f.Z,{children:"Author"}),(0,k.jsx)(y.Z,{fullWidth:!0,name:"author",value:L.author,onChange:ee,error:!!Y.author,helperText:Y.author})]}),(0,k.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,k.jsx)(f.Z,{children:Y.publicationDate?Y.publicationDate:"Publication Date"}),(0,k.jsx)(y.Z,{fullWidth:!0,type:"date",name:"publicationDate",value:L.publicationDate,onChange:ee,error:!!Y.publicationDate,helperText:Y.publicationDate})]}),(0,k.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,k.jsx)(f.Z,{children:Y.genre?Y.genre:"Genre"}),(0,k.jsx)(y.Z,{fullWidth:!0,name:"genre",value:L.genre,onChange:ee,error:!!Y.genre,helperText:Y.genre})]}),(0,k.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,k.jsx)(f.Z,{children:Y.isbn?Y.isbn:"ISBN"}),(0,k.jsx)(y.Z,{fullWidth:!0,name:"isbn",value:L.isbn,onChange:ee,onBlur:function(){return!0},error:!!Y.isbn,helperText:Y.isbn})]}),(0,k.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,k.jsx)(f.Z,{children:Y.description?Y.description:"Description"}),(0,k.jsx)(y.Z,{fullWidth:!0,name:"description",value:L.description,onChange:ee,error:!!Y.description,helperText:Y.description})]})]})})}),(0,k.jsx)(g.Z,{}),(0,k.jsx)(v.Z,{sx:{justifyContent:"flex-end"},children:(0,k.jsx)(b.Z,{variant:"contained",type:"submit",children:"Save Book"})})]})})})]})]})})})})}},9393:function(e,n,t){t.r(n);var r=t(4165),i=t(1413),a=t(5861),s=t(9439),l=t(2791),u=t(220),o=t(3400),c=t(7621),d=t(5473),h=t(3579),x=t(9164),f=t(3536),p=t(3026),Z=t(4268),m=t(39),j=t(2654),g=t(208),v=t(184);n.default=function(){var e=(0,f._)().setTitle,n=(0,l.useState)([]),t=(0,s.Z)(n,2),b=t[0],w=t[1],y=(0,l.useState)(!1),D=(0,s.Z)(y,2),S=D[0],k=D[1];(0,l.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("/admins/users");case 3:n=e.sent,t=n.data.map((function(e){return(0,i.Z)({id:e._id},e)})),w(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=[{field:"image",headerName:"Avatar",flex:.5,renderCell:function(e){return(0,v.jsx)(u.Z,{src:e.row.pic,alt:e.row.name})}},{field:"name",headerName:"Name",flex:1},{field:"email",headerName:"Email",flex:1.5},{field:"phoneNumber",headerName:"Phone",flex:1},{field:"status",headerName:"Status",flex:.5,valueGetter:function(e){return e.row.delete?"deleted":e.row.access?"Access":"Blocked"}},{field:"updated",headerName:"Seen",flex:2,valueGetter:function(e){return(0,j.zM)(e.row.updated)}},{field:"actions",headerName:"Actions",flex:1,renderCell:function(e){return(0,v.jsx)(o.Z,{onClick:function(){return n=e.row,console.log(n),void k(!0);var n},color:"primary",children:(0,v.jsx)(h.Z,{})})}}];return e("User"),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.Z,{children:(0,v.jsx)(c.Z,{children:(0,v.jsx)(Z._,{rows:b,columns:C,components:{Toolbar:m.n}})})}),S&&(0,v.jsx)(d.ZP,{children:(0,v.jsx)(g.default,{})})]})}},2654:function(e,n,t){t.d(n,{DY:function(){return l},Mu:function(){return a},zM:function(){return s}});var r=t(1482),i=t(5939);function a(e,n){var t=n||"dd MMM yyyy";return e?(0,r.Z)(new Date(e),t):""}function s(e,n){var t=n||"dd MMM yyyy p";return e?(0,r.Z)(new Date(e),t):""}function l(e){return e?(0,i.Z)(new Date(e),{addSuffix:!0}):""}}}]);
//# sourceMappingURL=393.4ae791db.chunk.js.map