{"version":3,"file":"static/js/770.9cd58bed.chunk.js","mappings":"8SA8IA,UAnIoB,WAClB,IAAAA,GAA4CC,EAAAA,EAAAA,KAC5CC,GADwBF,EAAhBG,iBAA+BH,EAAbI,eACAC,EAAAA,EAAAA,UAAS,KAAGC,GAAAC,EAAAA,EAAAA,GAAAL,EAAA,GAA/BM,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAA4CL,EAAAA,EAAAA,UAAS,MAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAnDE,EAAcD,EAAA,GAAEE,EAAiBF,EAAA,GACxCG,GAAgCT,EAAAA,EAAAA,WAAS,GAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA5BE,GAAFD,EAAA,GAAYA,EAAA,IAC5BE,GAAkCZ,EAAAA,EAAAA,WAAS,GAAMa,GAAAX,EAAAA,EAAAA,GAAAU,EAAA,GAAjCC,EAAA,GAAcA,EAAA,IAE9BC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEQC,EAAAA,EAAAA,IAAQ,sBAAsB,KAAD,EAA9CN,EAAQG,EAAAI,KACRzB,EAAQkB,EAASQ,KAAKC,KAAI,SAACC,GAAI,OAAAC,EAAAA,EAAAA,GAAA,CAAQC,GAAIF,EAAKG,KAAQH,EAAI,IAClE3B,EAASD,GACTQ,GAAW,GAAOa,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAW,GAAAX,EAAA,SAElBY,QAAQC,IAAI,UAASb,EAAAW,IACrBxB,GAAW,GAAO,yBAAAa,EAAAc,OAAA,GAAAlB,EAAA,kBAErB,kBAVe,OAAAJ,EAAAuB,MAAA,KAAAC,UAAA,KAYhBzB,GACF,GAAG,IAEH,IAkCI0B,EAAU,CACZ,CACEC,MAAO,QACPC,WAAY,SACZC,KAAM,GACNC,WAAY,SAACC,GAAM,OACjBC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACC,IAAKH,EAAOI,IAAIC,IAAKC,IAAKN,EAAOI,IAAIG,MAAQ,GAGzD,CACEX,MAAO,QACPC,WAAY,QACZC,KAAM,GAER,CAAEF,MAAO,SAAUC,WAAY,SAAUC,KAAM,GAC/C,CAAEF,MAAO,QAASC,WAAY,QAASC,KAAM,GAC7C,CACEF,MAAO,SACPC,WAAY,SACZC,KAAM,GAER,CAAEF,MAAO,kBAAmBC,WAAY,iBAAkBC,KAAM,EAAGU,YAAa,SAACR,GAAM,OAAMS,EAAAA,EAAAA,IAAMT,EAAOI,IAAIM,gBAAgB,GAC9H,CACEd,MAAO,UACPC,WAAY,UACZC,KAAM,EACNC,WAAY,SAACC,GAAM,OACjBC,EAAAA,EAAAA,KAACU,EAAAA,EAAU,CACTC,QAAS,kBA9DU3B,EA8Dce,EAAOI,SA7D9C1C,EAAkBuB,GADM,IAACA,CA8DyB,EAC5C4B,MAAM,UAASC,UAEfb,EAAAA,EAAAA,KAACc,EAAAA,EAAgB,KACN,IAKnB,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAH,SAAA,EACEb,EAAAA,EAAAA,KAACiB,EAAAA,GAAM,CAAAJ,UACLb,EAAAA,EAAAA,KAAA,SAAAa,SAAO,uBAGTb,EAAAA,EAAAA,KAACkB,EAAAA,EAAS,CAAAL,UACRb,EAAAA,EAAAA,KAACmB,EAAAA,EAAI,CAAAN,UACHb,EAAAA,EAAAA,KAACoB,EAAAA,EAAQ,CACPC,KAAMjE,EACNsC,QAASA,EACT4B,WAAY,CACVC,QAASC,EAAAA,UAMjBxB,EAAAA,EAAAA,KAACyB,EAAAA,GAAO,CACNC,KAAyB,OAAnBlE,EACNmE,SAAUnE,EACVoE,QA9EqB,WACzBnE,EAAkB,KACpB,EA6EMoE,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,SACVC,WAAY,UACZlB,SAEDrD,IAAkBwC,EAAAA,EAAAA,KAACiC,EAAAA,EAAc,CAACjD,KAAMxB,QAIjD,C,yHC7DA,IAnEuB,SAAHS,GAAkB,IAAZe,EAAIf,EAAJe,KAEtBsB,EAUEtB,EAVFsB,KACA4B,EASElD,EATFkD,MACAC,EAQEnD,EARFmD,YACAC,EAOEpD,EAPFoD,IACAC,EAMErD,EANFqD,IACAC,EAKEtD,EALFsD,UACAC,EAIEvD,EAJFuD,QACAC,EAGExD,EAHFwD,MACAC,EAEEzD,EAFFyD,eACAC,EACE1D,EADF0D,WAGF,OACE1C,EAAAA,EAAAA,KAAC2C,EAAAA,EAAG,CAACC,EAAG,EAAGC,SAAU,IAAIhC,UACvBE,EAAAA,EAAAA,MAAC+B,EAAAA,GAAI,CAACC,WAAS,EAACC,QAAS,EAAEnC,SAAA,EACzBb,EAAAA,EAAAA,KAAC8C,EAAAA,GAAI,CAACG,MAAI,EAAApC,UACRb,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACI,IAAKC,EAAMJ,IAAKlB,EAAKoB,SAE/BW,EAAAA,EAAAA,MAAC+B,EAAAA,GAAI,CAACG,MAAI,EAACC,GAAI,GAAIC,IAAE,EAACJ,WAAS,EAACK,UAAU,SAAQvC,SAAA,EAChDE,EAAAA,EAAAA,MAAC+B,EAAAA,GAAI,CAACG,MAAI,EAACC,IAAE,EAAArC,SAAA,EACXb,EAAAA,EAAAA,KAACqD,EAAAA,EAAU,CAACC,QAAQ,YAAWzC,SAAEP,KACjCN,EAAAA,EAAAA,KAACqD,EAAAA,EAAU,CAACC,QAAQ,QAAOzC,SAAEqB,KAC7BlC,EAAAA,EAAAA,KAACqD,EAAAA,EAAU,CAACC,QAAQ,QAAOzC,SAAEsB,QAG/BpB,EAAAA,EAAAA,MAAC+B,EAAAA,GAAI,CAACG,MAAI,EAACC,IAAE,EAAArC,SAAA,EACXb,EAAAA,EAAAA,KAACqD,EAAAA,EAAU,CAACC,QAAQ,YAAWzC,SAAC,sBAChCb,EAAAA,EAAAA,KAACuD,EAAAA,EAAO,KAERxC,EAAAA,EAAAA,MAACyC,EAAAA,EAAI,CAACC,OAAK,EAAA5C,SAAA,EACTb,EAAAA,EAAAA,KAAC0D,EAAAA,GAAQ,CAAA7C,UACPb,EAAAA,EAAAA,KAAC2D,EAAAA,EAAY,CAACC,QAAQ,OAAOC,UAAWvD,OAE1CN,EAAAA,EAAAA,KAAC0D,EAAAA,GAAQ,CAAA7C,UACPb,EAAAA,EAAAA,KAAC2D,EAAAA,EAAY,CAACC,QAAQ,QAAQC,UAAW1B,OAE3CnC,EAAAA,EAAAA,KAAC0D,EAAAA,GAAQ,CAAA7C,UACPb,EAAAA,EAAAA,KAAC2D,EAAAA,EAAY,CAACC,QAAQ,gBAAgBC,UAAWzB,OAEnDpC,EAAAA,EAAAA,KAAC0D,EAAAA,GAAQ,CAAA7C,UACPb,EAAAA,EAAAA,KAAC2D,EAAAA,EAAY,CAACC,QAAQ,MAAMC,UAAWxB,OAEzCrC,EAAAA,EAAAA,KAAC0D,EAAAA,GAAQ,CAAA7C,UACPb,EAAAA,EAAAA,KAAC2D,EAAAA,EAAY,CAACC,QAAQ,YAAYC,UAAWvB,OAE/CtC,EAAAA,EAAAA,KAAC0D,EAAAA,GAAQ,CAAA7C,UACPb,EAAAA,EAAAA,KAAC2D,EAAAA,EAAY,CAACC,QAAQ,UAAUC,UAAWtB,OAE7CvC,EAAAA,EAAAA,KAAC0D,EAAAA,GAAQ,CAAA7C,UACPb,EAAAA,EAAAA,KAAC2D,EAAAA,EAAY,CAACC,QAAQ,QAAQC,UAAWrB,OAE3CxC,EAAAA,EAAAA,KAAC0D,EAAAA,GAAQ,CAAA7C,UACPb,EAAAA,EAAAA,KAAC2D,EAAAA,EAAY,CAACC,QAAQ,kBAAkBC,UAAWpB,OAErDzC,EAAAA,EAAAA,KAAC0D,EAAAA,GAAQ,CAAA7C,UACPb,EAAAA,EAAAA,KAAC2D,EAAAA,EAAY,CAACC,QAAQ,cAAcC,UAAWnB,mBAQ/D,C,gIC3EO,SAASlC,EAAMsD,EAAMC,GAC3B,IAAMC,EAAKD,GAAa,cAExB,OAAOD,GAAOG,EAAAA,EAAAA,GAAO,IAAIC,KAAKJ,GAAOE,GAAM,EAC5C,CAEO,SAASG,EAAUL,EAAMC,GAC/B,IAAMC,EAAKD,GAAa,gBAExB,OAAOD,GAAOG,EAAAA,EAAAA,GAAO,IAAIC,KAAKJ,GAAOE,GAAM,EAC5C,CAMO,SAASI,EAAON,GACtB,OAAOA,GACJO,EAAAA,EAAAA,GAAoB,IAAIH,KAAKJ,GAAO,CACpCQ,WAAW,IAEX,EACJ,C","sources":["Pages/User/LikedBooks.js","Pages/User/User/PopoverContent.js","utils/formatTime.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Avatar, IconButton, Popover, Card } from \"@mui/material\";\r\nimport RemoveRedEyeIcon from \"@mui/icons-material/RemoveRedEye\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport Container from \"@mui/material/Container\";\r\nimport PopoverContent from \"./User/PopoverContent\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport API from \"../../utils/api\";\r\nimport { DataGrid, GridToolbar } from \"@mui/x-data-grid\";\r\nimport { fDate } from \"../../utils/formatTime\";\r\n\r\nconst UserFetcher = () => {\r\n  const { GetDashboradData, adminHomeData } = useAuth();\r\n  const [users, setUsers] = useState([]);\r\n  const [popoverContent, setPopoverContent] = useState(null);\r\n  const [isLoading, setLoading] = useState(true);\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const response = await API.get(\"/users/books/liked\");\r\n        const users = response.data.map((user) => ({ id: user._id, ...user }));\r\n        setUsers(users);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.log(\"Error: \", error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const handleViewDetails = (user) => {\r\n    setPopoverContent(user);\r\n  };\r\n\r\n  const handleEditUser = (user) => {\r\n    // Handle edit action here\r\n    console.log(\"Edit user:\", user);\r\n  };\r\n\r\n  const handleDeleteUser = (user) => {\r\n    // Handle delete action here\r\n    console.log(\"Delete user:\", user);\r\n  };\r\n\r\n  const handlePopoverClose = () => {\r\n    setPopoverContent(null);\r\n  };\r\n\r\n  const handleModalOpen = () => {\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setOpenModal(false);\r\n  }; //lastSeen\r\n\r\nconst TABLE_HEAD = [\r\n\t{ id: \"image\", label: \"Image\", alignRight: false },\r\n\t{ id: \"title\", label: \"Title\", alignRight: false },\r\n\t{ id: \"author\", label: \"Author\", alignRight: false },\r\n\t{ id: \"publishedDate\", label: \"Published Date\", alignRight: false },\r\n\t{ id: \"genre\", label: \"Genre\", alignRight: false },\r\n\t{ id: \"actions\", label: \"Actions\", alignRight: false },\r\n];\r\nconst columns = [\r\n    {\r\n      field: \"image\",\r\n      headerName: \"Avatar\",\r\n      flex: 0.5,\r\n      renderCell: (params) => (\r\n        <Avatar src={params.row.pic} alt={params.row.name} />\r\n      ),\r\n    },\r\n    {\r\n      field: \"title\",\r\n      headerName: \"Title\",\r\n      flex: 1,\r\n    },\r\n    { field: \"author\", headerName: \"Author\", flex: 1 },\r\n    { field: \"genre\", headerName: \"Genre\", flex: 1 },\r\n    {\r\n      field: \"status\",\r\n      headerName: \"Status\",\r\n      flex: 1,\r\n    },\r\n    { field: \"publicationDate\", headerName: \"Published Date\", flex: 2, valueGetter: (params) => (fDate(params.row.publicationDate)), },\r\n    {\r\n      field: \"actions\",\r\n      headerName: \"Actions\",\r\n      flex: 1,\r\n      renderCell: (params) => (\r\n        <IconButton\r\n          onClick={() => handleViewDetails(params.row)}\r\n          color=\"primary\"\r\n        >\r\n          <RemoveRedEyeIcon />\r\n        </IconButton>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>User | MI LIBRO</title>\r\n      </Helmet>\r\n\r\n      <Container>\r\n        <Card>\r\n          <DataGrid\r\n            rows={users}\r\n            columns={columns}\r\n            components={{\r\n              Toolbar: GridToolbar,\r\n            }}\r\n          />\r\n        </Card>\r\n      </Container>\r\n\r\n      <Popover\r\n        open={popoverContent !== null}\r\n        anchorEl={popoverContent}\r\n        onClose={handlePopoverClose}\r\n        anchorOrigin={{\r\n          vertical: \"center\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"center\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        {popoverContent && <PopoverContent user={popoverContent} />}\r\n      </Popover>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserFetcher;\r\n","import React from 'react';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Typography,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Grid,\r\n} from '@mui/material';\r\n\r\nconst PopoverContent = ({ user }) => {\r\n  const {\r\n    name,\r\n    email,\r\n    phoneNumber,\r\n    dob,\r\n    age,\r\n    education,\r\n    address,\r\n    place,\r\n    contactDetails,\r\n    returnDate,\r\n  } = user;\r\n\r\n  return (\r\n    <Box p={2} minWidth={400}>\r\n      <Grid container spacing={2}>\r\n        <Grid item>\r\n          <Avatar alt={name} src={user.pic} />\r\n        </Grid>\r\n        <Grid item xs={12} sm container direction=\"column\">\r\n          <Grid item xs>\r\n            <Typography variant=\"subtitle1\">{name}</Typography>\r\n            <Typography variant=\"body2\">{email}</Typography>\r\n            <Typography variant=\"body2\">{phoneNumber}</Typography>\r\n          </Grid>\r\n\r\n          <Grid item xs>\r\n            <Typography variant=\"subtitle2\">Personal Details</Typography>\r\n            <Divider />\r\n\r\n            <List dense>\r\n              <ListItem>\r\n                <ListItemText primary=\"Name\" secondary={name} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary=\"Phone\" secondary={phoneNumber} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary=\"Date of Birth\" secondary={dob} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary=\"Age\" secondary={age} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary=\"Education\" secondary={education} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary=\"Address\" secondary={address} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary=\"Place\" secondary={place} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary=\"Contact Details\" secondary={contactDetails} />\r\n              </ListItem>\r\n              <ListItem>\r\n                <ListItemText primary=\"Return Date\" secondary={returnDate} />\r\n              </ListItem>\r\n            </List>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PopoverContent;\r\n","import { format, getTime, formatDistanceToNow } from \"date-fns\";\r\n\r\nexport function fDate(date, newFormat) {\r\n\tconst fm = newFormat || \"dd MMM yyyy\";\r\n\r\n\treturn date ? format(new Date(date), fm) : \"\";\r\n}\r\n\r\nexport function fDateTime(date, newFormat) {\r\n\tconst fm = newFormat || \"dd MMM yyyy p\";\r\n\r\n\treturn date ? format(new Date(date), fm) : \"\";\r\n}\r\n\r\nexport function fTimestamp(date) {\r\n\treturn date ? getTime(new Date(date)) : \"\";\r\n}\r\n\r\nexport function fToNow(date) {\r\n\treturn date\r\n\t\t? formatDistanceToNow(new Date(date), {\r\n\t\t\t\taddSuffix: true,\r\n\t\t  })\r\n\t\t: \"\";\r\n}\r\n"],"names":["_useAuth","useAuth","_useState","GetDashboradData","adminHomeData","useState","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","popoverContent","setPopoverContent","_useState5","_useState6","setLoading","_useState7","_useState8","useEffect","fetchUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_users","wrap","_context","prev","next","API","sent","data","map","user","_objectSpread","id","_id","t0","console","log","stop","apply","arguments","columns","field","headerName","flex","renderCell","params","_jsx","Avatar","src","row","pic","alt","name","valueGetter","fDate","publicationDate","IconButton","onClick","color","children","RemoveRedEyeIcon","_jsxs","_Fragment","Helmet","Container","Card","DataGrid","rows","components","Toolbar","GridToolbar","Popover","open","anchorEl","onClose","anchorOrigin","vertical","horizontal","transformOrigin","PopoverContent","email","phoneNumber","dob","age","education","address","place","contactDetails","returnDate","Box","p","minWidth","Grid","container","spacing","item","xs","sm","direction","Typography","variant","Divider","List","dense","ListItem","ListItemText","primary","secondary","date","newFormat","fm","format","Date","fDateTime","fToNow","formatDistanceToNow","addSuffix"],"sourceRoot":""}