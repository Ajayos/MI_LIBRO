{"version":3,"file":"static/js/549.b92ef298.chunk.js","mappings":"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","sources":["Pages/User/AccountProfile.js","Pages/User/AccountProfileDetails.js","Pages/User/Account.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\n\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  Divider,\r\n  Typography,\r\n} from \"@mui/material\";\r\n\r\nexport default function UserPage() {\r\n  const { user, updateUserProfileFetch } = useAuth();\r\n  const [profilePic, setProfilePic] = useState();\r\n  const [newProfilePic, setNewProfilePic] = useState(null);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  useEffect(() => {\r\n    setProfilePic(user.pic);\r\n  }, [user]);\r\n  const handleImageChange = (event) => {\r\n    const file = event.target.files[0];\r\n    const reader = new FileReader();\r\n\r\n    reader.onloadend = () => {\r\n      setProfilePic(reader.result);\r\n      setNewProfilePic(file);\r\n    };\r\n\r\n    if (file) {\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setProfilePic(user.pic);\r\n    setNewProfilePic(null);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (newProfilePic) {\r\n      setIsSaving(true);\r\n      const reader = new FileReader();\r\n\r\n      reader.onloadend = () => {\r\n        setTimeout(() => {\r\n          setIsSaving(false);\r\n          setProfilePic(reader.result);\r\n          setNewProfilePic(null);\r\n          updateUserProfileFetch(reader.result)\r\n        }, 1000);\r\n      };\r\n\r\n      reader.readAsDataURL(newProfilePic);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardContent>\r\n          <Box\r\n            sx={{\r\n              alignItems: \"center\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n            }}\r\n          >\r\n            <Avatar\r\n              src={profilePic}\r\n              sx={{\r\n                height: 80,\r\n                mb: 2,\r\n                width: 80,\r\n              }}\r\n            />\r\n            <Typography gutterBottom variant=\"h5\">\r\n              {user.name}\r\n            </Typography>\r\n            <Typography color=\"text.secondary\" variant=\"body2\">\r\n              {user.email}\r\n            </Typography>\r\n            <Typography color=\"text.secondary\" variant=\"body2\">\r\n              {user.phno}\r\n            </Typography>\r\n          </Box>\r\n        </CardContent>\r\n        <Divider />\r\n        <CardActions>\r\n          {!newProfilePic && (\r\n            <Button\r\n              fullWidth\r\n              variant=\"text\"\r\n              component=\"label\"\r\n              disabled={isSaving}\r\n            >\r\n              {isSaving ? \"Saving...\" : \"Update Picture\"}\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                style={{ display: \"none\" }}\r\n                onChange={handleImageChange}\r\n              />\r\n            </Button>\r\n          )}\r\n          {newProfilePic && (\r\n            <>\r\n              <Button\r\n                fullWidth\r\n                variant=\"text\"\r\n                onClick={handleSave}\r\n                disabled={isSaving}\r\n              >\r\n                Save\r\n              </Button>\r\n              <Button\r\n                fullWidth\r\n                variant=\"text\"\r\n                onClick={handleCancel}\r\n                disabled={isSaving}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </>\r\n          )}\r\n        </CardActions>\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n\tBox,\r\n\tButton,\r\n\tCard,\r\n\tCardActions,\r\n\tCardContent,\r\n\tCardHeader,\r\n\tDivider,\r\n\tFormControl,\r\n\tGrid,\r\n\tInputLabel,\r\n\tOutlinedInput,\r\n\tTextField,\r\n\tTypography,\r\n} from \"@mui/material\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nconst UserEditForm = () => {\r\n\tconst { isAuthenticated, user, getUserData_, updateUserDataFetch } = useAuth();\r\n\tconst [values, setValues] = useState({});\r\n\tconst [errors, setErrors] = useState({});\r\n\tconst [dobInputType, setDobInputType] = useState(\"text\");\r\n\tuseEffect(() => {\r\n\t\tasync function getData() {\r\n\t\t\tvar data = await getUserData_();\r\n\t\t\tsetValues(data)\r\n\t\t\tvar ret = await convertDate(data.dob) \r\n\t\t\tsetValues((prevValues) => ({\r\n\t\t\t\t...prevValues,\r\n\t\t\t\t['dob']: ret,\r\n\t\t\t}));\r\n\t\t}\r\n\t\tgetData();\r\n\t}, [user, isAuthenticated]);\r\n\r\n\tconst convertDate = (dateString) => {\r\n\t\tconst [day, month, year] = dateString.split(\"-\");\r\n\t\treturn `${year}-${month}-${day}`;\r\n\t};\r\n\tconst handleChange = (event) => {\r\n\t\tconst { name, value } = event.target;\r\n\t\tsetValues((prevValues) => ({\r\n\t\t\t...prevValues,\r\n\t\t\t[name]: value,\r\n\t\t}));\r\n\r\n\t\t// Calculate age based on date of birth\r\n\t\tif (name === \"dob\") {\r\n\t\t\tconst age = calculateAge(value);\r\n\t\t\tsetValues((prevValues) => ({\r\n\t\t\t\t...prevValues,\r\n\t\t\t\tage: age,\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\tconst calculateAge = (dob) => {\r\n\t\tconst today = new Date();\r\n\t\tconst birthDate = new Date(dob);\r\n\t\tlet age = today.getFullYear() - birthDate.getFullYear();\r\n\t\tconst monthDiff = today.getMonth() - birthDate.getMonth();\r\n\t\tif (\r\n\t\t\tmonthDiff < 0 ||\r\n\t\t\t(monthDiff === 0 && today.getDate() < birthDate.getDate())\r\n\t\t) {\r\n\t\t\tage--;\r\n\t\t}\r\n\t\treturn age.toString();\r\n\t};\r\n\r\n\tconst handleDobClick = () => {\r\n\t\tsetDobInputType(\"date\");\r\n\t};\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\t// Perform form validation\r\n\t\tconst newErrors = {};\r\n\t\tif (values.name === \"\") {\r\n\t\t\tnewErrors.name = \"Name is required\";\r\n\t\t}\r\n\t\tif (values.phoneNumber === \"\") {\r\n\t\t\tnewErrors.phoneNumber = \"Phone number is required\";\r\n\t\t}\r\n\t\tif (values.dob === \"\") {\r\n\t\t\tnewErrors.dob = \"Date of Birth is required\";\r\n\t\t}\r\n\t\tif (values.place === \"\") {\r\n\t\t\tnewErrors.place = \"Date of Birth is required\";\r\n\t\t}\r\n\t\tif (values.education === \"\") {\r\n\t\t\tnewErrors.education = \"Education is required\";\r\n\t\t}\r\n\t\tif (values.address === \"\") {\r\n\t\t\tnewErrors.address = \"Address is required\";\r\n\t\t}\r\n\t\tsetErrors(newErrors);\r\n\r\n\t\tif (Object.keys(newErrors).length === 0) {\r\n\t\t\t//setValues(values);\r\n      updateUserDataFetch(values);\r\n\t\t\tsetErrors({});\r\n\t\t}\r\n\t};\r\n\r\n\tconst isFormValid = () => {\r\n\t\tconst requiredFields = [\r\n\t\t\t\"name\",\r\n\t\t\t\"phone\",\r\n\t\t\t\"dob\",\r\n\t\t\t\"age\",\r\n\t\t\t\"education\",\r\n\t\t\t\"address\",\r\n\t\t\t\"place\",\r\n\t\t\t\"contactDetails\"\r\n\t\t];\r\n\t\treturn requiredFields.every((field) => values[field] !== \"\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form autoComplete='off' noValidate onSubmit={handleSubmit}>\r\n\t\t\t<Card>\r\n\t\t\t\t<CardHeader\r\n\t\t\t\t\tdefaultExpanded\r\n\t\t\t\t\tsubheader='The information can be edited'\r\n\t\t\t\t\ttitle='Profile'\r\n\t\t\t\t/>\r\n\t\t\t\t<br />\r\n\t\t\t\t<CardContent sx={{ pt: 0 }}>\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography>Name</Typography>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tvalue={values.name}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography>Email </Typography>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tvalue={values.email}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography>Phone Number</Typography>\r\n\t\t\t\t\t\t\t\t<FormControl fullWidth error={!!errors.phone}>\r\n\t\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\t\tid='outlined-adornment-phoneNo'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname='phone'\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.phoneNumber}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{errors.phoneNumber && (\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' sx={{ color: \"#f80202\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{errors.phoneNumber}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t\t\t<Typography>Date of Birth</Typography>\r\n\t\t\t\t\t\t\t\t{dobInputType === \"text\" ? (\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tname='dob'\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleDobClick}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.dob}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tname='dob'\r\n\t\t\t\t\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.dob}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{errors.dob && (\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' sx={{ color: \"#f80202\" }}>\r\n\t\t\t\t\t\t\t\t\t\t{errors.dob}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t\t\t<Typography>Age</Typography>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tname='age'\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\tvalue={values.age}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography>Education</Typography>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tname='education'\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tvalue={values.education}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography>Place</Typography>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tname='place'\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tvalue={values.place}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography>Address</Typography>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tname='contactDetails'\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tvalue={values.contactDetails}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</CardContent>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<CardActions sx={{ justifyContent: \"flex-end\" }}>\r\n\t\t\t\t\t<Button variant='contained' disabled={!isFormValid()} type='submit'>\r\n\t\t\t\t\t\tSave Details\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</CardActions>\r\n\t\t\t</Card>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default UserEditForm;\r\n","import React, { useEffect } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport { Grid, Container, Typography, Stack, Box, Skeleton } from \"@mui/material\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport AccountProfile from \"./AccountProfile\";\r\nimport AccountProfileDetails from \"./AccountProfileDetails\";\r\n\r\nexport default function Account() {\r\n  const theme = useTheme();\r\n  const { isAuthenticated, IsPermit, user } = useAuth();\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  useEffect(() => {\r\n    IsPermit(false);\r\n\r\n    // Simulating loading time\r\n    const timer = setTimeout(() => {\r\n      setIsLoading(false);\r\n    }, 2000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [isAuthenticated]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Account | MI LIBRO</title>\r\n      </Helmet>\r\n      <Box\r\n        component=\"main\"\r\n        sx={{\r\n          flexGrow: 1,\r\n          py: 8,\r\n        }}\r\n      >\r\n        <Container maxWidth=\"lg\">\r\n          <Stack spacing={3}>\r\n            <div>\r\n              {isLoading ? (\r\n                <Skeleton variant=\"text\" width={200} height={40} />\r\n              ) : (\r\n                <Typography variant=\"h4\">Account</Typography>\r\n              )}\r\n            </div>\r\n            <br />\r\n            <div>\r\n              <Grid container spacing={5}>\r\n                <Grid item xs={12} md={6} lg={4}>\r\n                  {isLoading ? (\r\n                    <Skeleton variant=\"rectangular\" height={400} />\r\n                  ) : (\r\n                    <AccountProfile />\r\n                  )}\r\n                </Grid>\r\n                <Grid item xs={12} md={6} lg={8}>\r\n                  {isLoading ? (\r\n                    <Skeleton variant=\"rectangular\" height={400} />\r\n                  ) : (\r\n                    <AccountProfileDetails />\r\n                  )}\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Stack>\r\n        </Container>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n"],"names":["UserPage","_useAuth","useAuth","user","updateUserProfileFetch","_useState","useState","_useState2","_slicedToArray","profilePic","setProfilePic","_useState3","_useState4","newProfilePic","setNewProfilePic","_useState5","_useState6","isSaving","setIsSaving","useEffect","pic","_jsx","_Fragment","children","_jsxs","Card","CardContent","Box","sx","alignItems","display","flexDirection","Avatar","src","height","mb","width","Typography","gutterBottom","variant","name","color","email","phno","Divider","CardActions","Button","fullWidth","component","disabled","type","accept","style","onChange","event","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","onClick","setTimeout","isAuthenticated","getUserData_","updateUserDataFetch","values","setValues","errors","setErrors","dobInputType","setDobInputType","_getData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","ret","wrap","_context","prev","next","sent","convertDate","dob","prevValues","_objectSpread","_defineProperty","stop","apply","arguments","getData","dateString","_dateString$split","split","_dateString$split2","day","month","year","concat","handleChange","_event$target","value","age","calculateAge","today","Date","birthDate","getFullYear","monthDiff","getMonth","getDate","toString","autoComplete","noValidate","onSubmit","preventDefault","newErrors","phoneNumber","place","education","address","Object","keys","length","CardHeader","defaultExpanded","subheader","title","pt","Grid","container","spacing","item","xs","TextField","required","autoFocus","FormControl","error","phone","OutlinedInput","id","md","contactDetails","justifyContent","every","field","Account","useTheme","IsPermit","_React$useState","React","_React$useState2","isLoading","setIsLoading","timer","clearTimeout","Helmet","flexGrow","py","Container","maxWidth","Stack","Skeleton","lg","AccountProfile","AccountProfileDetails"],"sourceRoot":""}