"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[908],{7908:function(e,n,s){s.r(n),s.d(n,{default:function(){return I}});var r=s(9439),t=s(6907),i=s(3967),a=s(4554),o=s(9164),d=s(6314),l=s(7047),c=s(890),u=s(2791),h=s(3575),x=s(4165),f=s(5861),w=s(4942),Z=s(1413),j=s(7621),m=s(9585),p=s(4721),g=s(9504),v=s(8096),P=s(4925),C=s(8029),b=s(3466),y=s(3400),k=s(2363),S=s(6151),F=s(3710),T=s(9569),A=s(184);function D(){var e=(0,h.a)(),n=(e.isAuthenticated,e.updateUserPasswordFetch),s=(0,u.useState)({}),t=(0,r.Z)(s,2),i=t[0],a=t[1],o=(0,u.useState)(!1),D=(0,r.Z)(o,2),I=D[0],W=D[1],q=(0,u.useState)(!0),M=(0,r.Z)(q,2),U=M[0],z=M[1],E=(0,u.useState)({password:"",confirmPassword:""}),N=(0,r.Z)(E,2),B=N[0],G=N[1],L=function(){W(!I)},O=function(e){G((function(n){return(0,Z.Z)((0,Z.Z)({},n),{},(0,w.Z)({},e.target.name,e.target.value))}))},R=function(e){e.preventDefault()},H=function(){var e={},n=!0;return B.password||(n=!1,e.newPassword="New Password is required"),B.confirmPassword||(n=!1,e.confirmPassword="Confirm Password is required"),B.password!==B.confirmPassword&&(n=!1,e.confirmPassword="Passwords do not match"),a(e),n},J=function(){var e=(0,f.Z)((0,x.Z)().mark((function e(s){var r,t;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),H())try{z(!0),r=n(B.password),t=r.message,200===r.status?window.location.reload():a({password:t}),z(!1)}catch(i){z(!1),a({email:"Invalid email/username or password"})}case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){var e=setTimeout((function(){z(!1)}),2e3);return function(){return clearTimeout(e)}}),[]),(0,A.jsx)("form",{onSubmit:J,children:(0,A.jsxs)(j.Z,{children:[U?(0,A.jsx)(m.Z,{children:(0,A.jsx)(l.Z,{variant:"text",width:200,height:40})}):(0,A.jsx)(m.Z,{subheader:"Update password",title:"Password"}),(0,A.jsx)(p.Z,{}),(0,A.jsx)(g.Z,{children:(0,A.jsx)(d.Z,{spacing:3,sx:{maxWidth:400},children:U?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l.Z,{variant:"text",width:200,height:40}),(0,A.jsx)(l.Z,{variant:"rectangular",height:56}),(0,A.jsx)(l.Z,{variant:"rectangular",height:56})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.Z,{variant:"body2",sx:{color:"#f80202"},children:i.newPassword}),(0,A.jsxs)(v.Z,{fullWidth:!0,children:[(0,A.jsx)(P.Z,{htmlFor:"outlined-adornment-newpassword-login",children:"New Password"}),(0,A.jsx)(C.Z,{id:"outlined-adornment-newpassword-login",type:I?"text":"password",name:"password",value:B.password,onChange:O,endAdornment:(0,A.jsx)(b.Z,{position:"end",children:(0,A.jsx)(y.Z,{"aria-label":"toggle password visibility",onClick:L,onMouseDown:R,edge:"end",size:"large",children:I?(0,A.jsx)(F.Z,{}):(0,A.jsx)(T.Z,{})})}),label:"password",error:!!i.password,helperText:i.password})]}),(0,A.jsx)(c.Z,{variant:"body2",sx:{color:"#f80202"},children:i.confirmPassword}),(0,A.jsxs)(v.Z,{fullWidth:!0,children:[(0,A.jsx)(P.Z,{htmlFor:"outlined-adornment-confirmpassword-login",children:"Confirm Password"}),(0,A.jsx)(C.Z,{id:"outlined-adornment-confirmpassword-login",type:I?"text":"password",name:"confirmPassword",value:B.confirmPassword,onChange:O,endAdornment:(0,A.jsx)(b.Z,{position:"end",children:(0,A.jsx)(y.Z,{"aria-label":"toggle password visibility",onClick:L,onMouseDown:R,edge:"end",size:"large",children:I?(0,A.jsx)(F.Z,{}):(0,A.jsx)(T.Z,{})})}),label:"Confirm Password",error:!!i.confirmPassword,helperText:i.confirmPassword})]})]})})}),(0,A.jsx)(p.Z,{}),U?(0,A.jsx)(k.Z,{sx:{justifyContent:"flex-end"},children:(0,A.jsx)(l.Z,{variant:"rectangular",height:40,width:100,sx:{justifyContent:"flex-end"}})}):(0,A.jsx)(k.Z,{sx:{justifyContent:"flex-end"},children:(0,A.jsx)(S.Z,{variant:"contained",onClick:J,children:"Update"})})]})})}function I(){(0,i.Z)();var e=(0,h.a)(),n=e.isAuthenticated,s=e.IsPermit,x=(e.user,(0,u.useState)(!0)),f=(0,r.Z)(x,2),w=f[0],Z=f[1];return(0,u.useEffect)((function(){s(!1);var e=setTimeout((function(){Z(!1)}),2e3);return function(){return clearTimeout(e)}}),[n]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(t.ql,{children:(0,A.jsx)("title",{children:"Settings | MI LIBRO"})}),(0,A.jsx)(a.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,A.jsx)(o.Z,{maxWidth:"lg",children:(0,A.jsxs)(d.Z,{spacing:3,children:[w?(0,A.jsx)(l.Z,{variant:"text",width:200,height:40}):(0,A.jsx)(c.Z,{variant:"h4",children:"Settings"}),(0,A.jsx)(D,{})]})})})]})}}}]);
//# sourceMappingURL=908.95f2e2c3.chunk.js.map