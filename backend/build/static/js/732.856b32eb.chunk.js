"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[732],{2732:function(e,i,t){t.r(i),t.d(i,{default:function(){return w}});var r=t(9439),n=t(2791),s=t(6907),a=t(3967),l=t(4554),o=t(9164),d=t(6314),c=t(7047),u=t(890),h=t(1889),x=t(3575),f=t(4942),j=t(1413),Z=t(7621),m=t(9504),g=t(3044),p=t(4721),b=t(2363),v=t(6151),P=t(184);function k(e){var i=e.setProfilePic,t=e.profilePic,r=e.newProfilePic,n=e.setNewProfilePic,s=e.isSaving,a=e.setIsSaving,o=e.setBook;return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(Z.Z,{children:[(0,P.jsx)(m.Z,{children:(0,P.jsx)(l.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:(0,P.jsx)(g.Z,{src:t||"https://www.pngitem.com/pimgs/m/146-1468479_my-profile-icon-blank-profile-picture-circle-hd.png",sx:{height:80,mb:2,width:80}})})}),(0,P.jsx)(p.Z,{}),(0,P.jsxs)(b.Z,{children:[!r&&(0,P.jsxs)(v.Z,{fullWidth:!0,variant:"text",component:"label",disabled:s,children:[s?"Saving...":"Update Picture",(0,P.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){var t=e.target.files[0],r=new FileReader;r.onloadend=function(){i(r.result),n(t)},t&&r.readAsDataURL(t)}})]}),r&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(v.Z,{fullWidth:!0,variant:"text",onClick:function(){if(r){a(!0);var e=new FileReader;e.onloadend=function(){setTimeout((function(){a(!1),i(e.result),n(null),o((function(i){return(0,j.Z)((0,j.Z)({},i),{},(0,f.Z)({},"pic",e.result))}))}),1e3)},e.readAsDataURL(r)}},disabled:s,children:"Save"}),(0,P.jsx)(v.Z,{fullWidth:!0,variant:"text",onClick:function(){n(null)},disabled:s,children:"Cancel"})]})]})]})})}var R=t(9585),S=t(8550),C=function(e){var i=e.book,t=e.setBook,r=e.errors,n=e.setErrors,s=(e.isFormValid,e.setIsFormValid),a=function(e){var i=e.target,r=i.name,n=i.value;t((function(e){return(0,j.Z)((0,j.Z)({},e),{},(0,f.Z)({},r,n))}))},o=function(){var e=!0,t={};return""===i.identifier.trim()&&(e=!1,t.identifier="Identifier is required"),""===i.title.trim()&&(e=!1,t.title="Title is required"),""===i.author.trim()&&(e=!1,t.author="Author is required"),""===i.publicationYear.trim()&&(e=!1,t.publicationYear="Publication year is required"),""===i.genre.trim()&&(e=!1,t.genre="Genre is required"),""===i.isbn.trim()&&(e=!1,t.isbn="ISBN is required"),""===i.rate.trim()&&(e=!1,t.rate="Rate is required"),""===i.editedRate.trim()&&(e=!1,t.editedRate="Edited Rate is required"),n(t),s(0===Object.keys(t).length),e};return(0,P.jsx)("form",{autoComplete:"off",noValidate:!0,onSubmit:function(e){return e.preventDefault(),o?(console.log("Book Data:",i),t({identifier:"",title:"",author:"",publicationYear:"",genre:"",isbn:"",rate:"",editedRate:""}),n({}),!0):(console.log("Form contains errors. Please fill in all fields."),!1)},children:(0,P.jsxs)(Z.Z,{children:[(0,P.jsx)(R.Z,{defaultExpanded:!0,subheader:"Enter book details",title:"Book Data Inserter"}),(0,P.jsx)("br",{}),(0,P.jsx)(m.Z,{sx:{pt:0},children:(0,P.jsx)(l.Z,{children:(0,P.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,P.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,P.jsx)(u.Z,{children:"Identifier"}),(0,P.jsx)(S.Z,{fullWidth:!0,name:"identifier",value:i.identifier,onChange:a,error:!!r.identifier,helperText:r.identifier,autoFocus:!0})]}),(0,P.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,P.jsx)(u.Z,{children:"Title"}),(0,P.jsx)(S.Z,{fullWidth:!0,name:"title",value:i.title,onChange:a,error:!!r.title,helperText:r.title})]}),(0,P.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,P.jsx)(u.Z,{children:"Author"}),(0,P.jsx)(S.Z,{fullWidth:!0,name:"author",value:i.author,onChange:a,error:!!r.author,helperText:r.author})]}),(0,P.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,P.jsx)(u.Z,{children:r.publicationYear?r.publicationYear:"Publication Year"}),(0,P.jsx)(S.Z,{fullWidth:!0,name:"publicationYear",value:i.publicationYear,onChange:a,error:!!r.publicationYear,helperText:r.publicationYear})]}),(0,P.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,P.jsx)(u.Z,{children:r.genre?r.genre:"Genre"}),(0,P.jsx)(S.Z,{fullWidth:!0,name:"genre",value:i.genre,onChange:a,error:!!r.genre,helperText:r.genre})]}),(0,P.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,P.jsx)(u.Z,{children:r.isbn?r.isbn:"ISBN"}),(0,P.jsx)(S.Z,{fullWidth:!0,name:"isbn",value:i.isbn,onChange:a,onBlur:function(){return!0},error:!!r.isbn,helperText:r.isbn})]}),(0,P.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,P.jsx)(u.Z,{children:r.rate?r.rate:"Rate"}),(0,P.jsx)(S.Z,{fullWidth:!0,name:"rate",value:i.rate,onChange:a,error:!!r.rate,helperText:r.rate})]}),(0,P.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,P.jsx)(u.Z,{children:r.editedRate?r.editedRate:"Edited Rate"}),(0,P.jsx)(S.Z,{fullWidth:!0,name:"editedRate",value:i.editedRate,onChange:a,error:!!r.editedRate,helperText:r.editedRate})]})]})})}),(0,P.jsx)(p.Z,{}),(0,P.jsx)(b.Z,{sx:{justifyContent:"flex-end"},children:(0,P.jsx)(v.Z,{variant:"contained",type:"submit",children:"Save Book"})})]})})};function w(){(0,a.Z)();var e=(0,x.a)(),i=e.isAuthenticated,t=e.IsPermit,f=(e.user,(0,n.useState)(!0)),j=(0,r.Z)(f,2),Z=j[0],m=j[1],g=(0,n.useState)(),p=(0,r.Z)(g,2),b=p[0],v=p[1],R=(0,n.useState)(null),S=(0,r.Z)(R,2),w=S[0],I=S[1],T=(0,n.useState)(!1),W=(0,r.Z)(T,2),B=W[0],F=W[1],Y=(0,n.useState)({identifier:"",pic:null,title:"",author:"",publicationYear:"",genre:"",isbn:""}),y=(0,r.Z)(Y,2),q=y[0],A=y[1],E=(0,n.useState)({}),D=(0,r.Z)(E,2),V=D[0],N=D[1],G=(0,n.useState)(!1),L=(0,r.Z)(G,2),U=L[0],O=L[1];return(0,n.useEffect)((function(){t(!0);var e=setTimeout((function(){m(!1)}),2e3);return function(){return clearTimeout(e)}}),[i]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(s.ql,{children:(0,P.jsx)("title",{children:"Account | MI LIBRO"})}),(0,P.jsx)(l.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,P.jsx)(o.Z,{maxWidth:"lg",children:(0,P.jsxs)(d.Z,{spacing:3,children:[(0,P.jsx)("div",{children:Z?(0,P.jsx)(c.Z,{variant:"text",width:200,height:40}):(0,P.jsx)(u.Z,{variant:"h4",children:"Account"})}),(0,P.jsx)("br",{}),(0,P.jsx)("div",{children:(0,P.jsxs)(h.ZP,{container:!0,spacing:5,children:[(0,P.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:4,children:Z?(0,P.jsx)(c.Z,{variant:"rectangular",height:400}):(0,P.jsx)(k,{setProfilePic:v,profilePic:b,newProfilePic:w,setNewProfilePic:I,isSaving:B,setIsSaving:F,book:q,setBook:A,errors:V})}),(0,P.jsx)(h.ZP,{item:!0,xs:12,md:6,lg:8,children:Z?(0,P.jsx)(c.Z,{variant:"rectangular",height:400}):(0,P.jsx)(C,{book:q,setBook:A,errors:V,setErrors:N,isFormValid:U,setIsFormValid:O})})]})})]})})})]})}}}]);
//# sourceMappingURL=732.856b32eb.chunk.js.map